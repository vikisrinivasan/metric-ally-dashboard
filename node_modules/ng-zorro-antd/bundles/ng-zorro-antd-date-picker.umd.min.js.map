{"version":3,"sources":["../../node_modules/tslib/tslib.es6.js","ng://ng-zorro-antd/date-picker/util.ts","ng://ng-zorro-antd/date-picker/lib/util.ts","ng://ng-zorro-antd/date-picker/calendar-footer.component.ts","ng://ng-zorro-antd/date-picker/date-picker.service.ts","ng://ng-zorro-antd/date-picker/date-range-popup.component.ts","ng://ng-zorro-antd/date-picker/picker.component.ts","ng://ng-zorro-antd/date-picker/date-picker.component.ts","ng://ng-zorro-antd/date-picker/inner-popup.component.ts","ng://ng-zorro-antd/date-picker/lib/abstract-panel-header.ts","ng://ng-zorro-antd/date-picker/lib/date-header.component.ts","ng://ng-zorro-antd/date-picker/lib/abstract-table.ts","ng://ng-zorro-antd/date-picker/lib/date-table.component.ts","ng://ng-zorro-antd/date-picker/lib/decade-header.component.ts","ng://ng-zorro-antd/date-picker/lib/decade-table.component.ts","ng://ng-zorro-antd/date-picker/lib/month-header.component.ts","ng://ng-zorro-antd/date-picker/lib/month-table.component.ts","ng://ng-zorro-antd/date-picker/lib/year-header.component.ts","ng://ng-zorro-antd/date-picker/lib/year-table.component.ts","ng://ng-zorro-antd/date-picker/lib/lib-packer.module.ts","ng://ng-zorro-antd/date-picker/month-picker.component.ts","ng://ng-zorro-antd/date-picker/range-picker.component.ts","ng://ng-zorro-antd/date-picker/week-picker.component.ts","ng://ng-zorro-antd/date-picker/year-picker.component.ts","ng://ng-zorro-antd/date-picker/date-picker.module.ts"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__decorate","decorators","target","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__metadata","metadataKey","metadataValue","metadata","__read","o","m","Symbol","iterator","e","ar","next","done","push","value","error","defaultDisabledTime","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","getTimeConfig","disabledTime","disabledTimeConfig","nativeDate","isTimeValidByConfig","invalidTime","hour","getHours","minutes","getMinutes","seconds","getSeconds","indexOf","isTimeValid","isAllowedDate","disabledDate","transCompatFormat","format","replace","CalendarFooterComponent","dateHelper","showToday","hasTimePicker","isRange","okDisabled","rangeQuickSelector","clickOk","EventEmitter","clickToday","prefixCls","isTemplateRef","isNonEmptyString","isTodayDisabled","todayTitle","now","CandyDate","ngOnChanges","changes","locale","dateFormat","onClickToday","emit","clone","Component","args","encapsulation","ViewEncapsulation","None","changeDetection","ChangeDetectionStrategy","OnPush","selector","exportAs","template","DateHelperService","Input","Output","DatePickerService","activeInput","arrowPositionStyle","valueChange$","ReplaySubject","emitValue$","Subject","inputPartChange$","initValue","setActiveDate","initialValue","hasValue","isArray","makeValue","map","val","normalize","activeDate","normalizeRangeValue","cloneDate","setValue","getActiveIndex","part","left","right","ngOnDestroy","complete","Injectable","DateRangePopupComponent","datePickerService","cdr","_this","panelModeChange","calendarChange","resultOk","endPanelMode","timeOptions","hoverValue","destroy$","disabledStartTime","disabledEndTime","showTime","extraFooter","ranges","ngOnInit","pipe","takeUntil","subscribe","initActiveDate","markForCheck","buildTimeOptions","panelMode","onClickOk","otherPart","selectedValue","isAllowed","isOneAllowed","changeValueFromSelect","onDayHover","otherInputIndex","base","isBeforeDay","onPanelModeChange","mode","partType","index","onActiveDateChange","addMonths","onSelectTime","newValue","overrideHms","emitValue","sortRangeValue","isBothAllowed","clearHoverValue","getPanelMode","getValue","getActiveDate","disabledTimeArr","isBoth","getTimeOptions","onClickPresetRange","onPresetRangeMouseLeave","onHoverPresetRange","getObjectKeys","obj","keys","show","overrideTimeOptions","origin","partial","disabledTimeFn","oldValue","setHms","ChangeDetectorRef","NzPickerComponent","elementRef","changeDetector","doc","noAnimation","open","undefined","disabled","inputReadOnly","popupStyle","focusChange","valueChange","openChange","activeBarStyle","position","animationOpenState","overlayOpen","overlayPositions","offsetX","offsetY","originX","originY","overlayX","overlayY","currentPositionX","currentPositionY","document","CdkOverlayOrigin","updateInputValue","isOpenHandledByUser","inputSize","Math","max","ngAfterViewInit","autoFocus","focus","fromEvent","window","resetInputWidthAndArrowLeft","arrowLeft","width","inputWidth","activeElement","getInput","_a","panel","animationStart","_b","rangePickerInputs","first","nativeElement","offsetWidth","_c","separatorElement","last","onFocus","onBlur","showOverlay","realOpenState","hideOverlay","showClear","isEmptyValue","allowClear","onClickInputBox","event","stopPropagation","onClickBackdrop","onOverlayDetach","onOverlayKeydown","onPositionChange","connectionPair","detectChanges","onClickClear","preventDefault","inputValue","v","formatValue","onInputKeyup","date","checkValidInputDate","inputTarget","input","parseDate","isValid","getPlaceholder","placeholder","every","animationDone","animations","slideMotion","ElementRef","Inject","DOCUMENT","ViewChild","CdkConnectedOverlay","static","ViewChildren","ContentChild","POPUP_STYLE_PATCH","NzDatePickerComponent","nzConfigService","i18n","renderer","showWeek","focused","destroyed$","isCustomPlaceHolder","nzAllowClear","nzAutoFocus","nzDisabled","nzInputReadOnly","nzClassName","nzPlaceHolder","nzPopupStyle","nzSize","nzStyle","nzShowToday","nzMode","nzDefaultPickerValue","nzSeparator","nzSuffixIcon","nzOnPanelChange","nzOnCalendarChange","nzOnOk","nzOnOpenChange","onChangeFn","onTouchedFn","toBoolean","picker","nzLocale","localeChange","setLocale","_","vAsRange","nzFormat","nzShowTime","firstChange","setDefaultPlaceHolder","nzRenderExtraFooter","valueFunctionProp","warnDeprecation","setPanelMode","onOpenChange","writeValue","registerOnChange","fn","registerOnTouched","setDisabledState","isDisabled","getLocaleData","lang","onFocusChange","addClass","removeClass","onCalendarChange","rangeValue","filter","x","onResultOk","host","[class.ant-picker]","[class.ant-picker-range]","[class.ant-picker-large]","[class.ant-picker-small]","[class.ant-picker-disabled]","(click)","providers","provide","NG_VALUE_ACCESSOR","multi","useExisting","forwardRef","NzConfigService","NzI18nService","Renderer2","NzNoAnimationDirective","type","Host","Optional","InputBoolean","WithConfig","InnerPopupComponent","headerChange","selectDate","selectTime","dayHover","enablePrevNext","direction","showTimePicker","onSelectDate","timeValue","nzDefaultOpenValue","onChooseMonth","setMonth","getMonth","onChooseYear","setYear","getYear","onChooseDecade","currentValue","AbstractPanelHeader","selectors","showSuperPreBtn","showSuperNextBtn","showPreBtn","showNextBtn","superPreviousTitle","previousYear","previousTitle","previousMonth","superNextTitle","nextYear","nextTitle","nextMonth","superPrevious","changeValue","addYears","superNext","previous","render","changeMode","getSelectors","Directive","DateHeaderComponent","_super","className","title","yearSelect","onClick","label","yearFormat","monthSelect","monthFormat","AbstractTable","headRow","bodyRows","MAX_ROW","MAX_COL","makeHeadRow","makeBodyRows","trackByBodyRow","_index","item","trackByBodyColumn","DateTableComponent","isDateRealChange","change","previousValue_1","previousValue","some","previousCandyDate","isSameDay","isSameDate","changeValueFromInside","setDate","getDate","isSameMonth","weekDays","start","calendarStart","weekStartsOn","getFirstDayOfWeek","colIndex","day","addDays","content","getVeryShortWeekFormat","isSelected","onMouseEnter","getLocaleId","toLowerCase","weekRows","firstDayOfMonth","week","weekStart","row","isActive","isCurrent","dateCells","year","this_1","cell","isToday","cellRender","fullCellRender","weekNum","getISOWeek","startHover","endHover","startSelected","endSelected","isSelectedStartDate","isSelectedEndDate","isAfterDay","isInSelectedRange","isHoverStartDate","isHoverEndDate","isLastDayOfMonth","isFirstDayOfMonth","isStartSingle","isEndSingle","isInHoverRange","classMap","getClassMap","DecadeHeaderComponent","parseInt","startYear","endYear","DecadeTableComponent","decades","currentYear","rowIndex","end","isLowerThanStart","isBiggerThanEnd","chooseDecade","MonthHeaderComponent","MonthTableComponent","months","currentMonth","monthValue","month","chooseMonth","YearHeaderComponent","YearTableComponent","years","yearValue","yearNum","isSameDecade","chooseYear","getFullYear","LibPackerModule","NgModule","imports","CommonModule","FormsModule","NzI18nModule","NzTimePickerModule","NzOutletModule","exports","declarations","NzMonthPickerComponent","datePicker","NzRangePickerComponent","NzWeekPickerComponent","NzYearPickerComponent","NzDatePickerModule","OverlayModule","NzIconModule","NzOverlayModule","NzNoAnimationModule","NzButtonModule"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { CandyDate } from 'ng-zorro-antd/core/time';\nimport { DisabledDateFn, DisabledTimeConfig, DisabledTimeFn } from './standard-types';\n\nexport const PREFIX_CLASS = 'ant-picker';\n\nconst defaultDisabledTime: DisabledTimeConfig = {\n  nzDisabledHours(): number[] {\n    return [];\n  },\n  nzDisabledMinutes(): number[] {\n    return [];\n  },\n  nzDisabledSeconds(): number[] {\n    return [];\n  }\n};\n\nexport function getTimeConfig(value: CandyDate, disabledTime?: DisabledTimeFn): DisabledTimeConfig {\n  let disabledTimeConfig = disabledTime ? disabledTime(value && value.nativeDate) : ({} as DisabledTimeConfig);\n  disabledTimeConfig = {\n    ...defaultDisabledTime,\n    ...disabledTimeConfig\n  };\n  return disabledTimeConfig;\n}\n\nexport function isTimeValidByConfig(value: CandyDate, disabledTimeConfig: DisabledTimeConfig): boolean {\n  let invalidTime = false;\n  if (value) {\n    const hour = value.getHours();\n    const minutes = value.getMinutes();\n    const seconds = value.getSeconds();\n    const disabledHours = disabledTimeConfig.nzDisabledHours();\n    if (disabledHours.indexOf(hour) === -1) {\n      const disabledMinutes = disabledTimeConfig.nzDisabledMinutes(hour);\n      if (disabledMinutes.indexOf(minutes) === -1) {\n        const disabledSeconds = disabledTimeConfig.nzDisabledSeconds(hour, minutes);\n        invalidTime = disabledSeconds.indexOf(seconds) !== -1;\n      } else {\n        invalidTime = true;\n      }\n    } else {\n      invalidTime = true;\n    }\n  }\n  return !invalidTime;\n}\n\nexport function isTimeValid(value: CandyDate, disabledTime: DisabledTimeFn): boolean {\n  const disabledTimeConfig = getTimeConfig(value, disabledTime);\n  return isTimeValidByConfig(value, disabledTimeConfig);\n}\n\nexport function isAllowedDate(value: CandyDate, disabledDate?: DisabledDateFn, disabledTime?: DisabledTimeFn): boolean {\n  if (!value) {\n    return false;\n  }\n  if (disabledDate) {\n    if (disabledDate(value.nativeDate)) {\n      return false;\n    }\n  }\n  if (disabledTime) {\n    if (!isTimeValid(value, disabledTime)) {\n      return false;\n    }\n  }\n  return true;\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Compatible translate the moment-like format pattern to angular's pattern\n * Why? For now, we need to support the existing language formats in AntD, and AntD uses the default temporal syntax.\n *\n * TODO: compare and complete all format patterns\n * Each format docs as below:\n * @link https://momentjs.com/docs/#/displaying/format/\n * @link https://angular.io/api/common/DatePipe#description\n * @param format input format pattern\n */\nexport function transCompatFormat(format: string): string {\n  return (\n    format &&\n    format\n      .replace(/Y/g, 'y') // only support y, yy, yyy, yyyy\n      .replace(/D/g, 'd')\n  ); // d, dd represent of D, DD for momentjs, others are not support\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  EventEmitter,\n  Input,\n  OnChanges,\n  Output,\n  SimpleChanges,\n  TemplateRef,\n  ViewEncapsulation\n} from '@angular/core';\nimport { CandyDate } from 'ng-zorro-antd/core/time';\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\n\nimport { isNonEmptyString, isTemplateRef } from 'ng-zorro-antd/core/util';\nimport { DateHelperService, NzCalendarI18nInterface } from 'ng-zorro-antd/i18n';\nimport { transCompatFormat } from './lib/util';\nimport { PREFIX_CLASS } from './util';\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  // tslint:disable-next-line:component-selector\n  selector: 'calendar-footer',\n  exportAs: 'calendarFooter',\n  template: `\n    <div class=\"{{ prefixCls }}-footer\">\n      <div *ngIf=\"extraFooter\" class=\"{{ prefixCls }}-footer-extra\">\n        <ng-container [ngSwitch]=\"true\">\n          <ng-container *ngSwitchCase=\"isTemplateRef(extraFooter)\">\n            <ng-container *ngTemplateOutlet=\"$any(extraFooter)\"></ng-container>\n          </ng-container>\n          <ng-container *ngSwitchCase=\"isNonEmptyString(extraFooter)\">\n            <span [innerHTML]=\"extraFooter\"></span>\n          </ng-container>\n        </ng-container>\n      </div>\n      <a\n        *ngIf=\"showToday && !hasTimePicker\"\n        class=\"{{ prefixCls }}-today-btn {{ isTodayDisabled ? prefixCls + '-today-btn-disabled' : '' }}\"\n        role=\"button\"\n        (click)=\"isTodayDisabled ? null : onClickToday()\"\n        title=\"{{ todayTitle }}\"\n      >\n        {{ locale.today }}\n      </a>\n      <ul *ngIf=\"hasTimePicker || rangeQuickSelector\" class=\"{{ prefixCls }}-ranges\">\n        <ng-container *ngTemplateOutlet=\"rangeQuickSelector\"></ng-container>\n        <li *ngIf=\"hasTimePicker && !isRange\" class=\"{{ prefixCls }}-now\">\n          <a class=\"{{ prefixCls }}-now-btn\" (click)=\"isTodayDisabled ? null : onClickToday()\">\n            {{ locale.now }}\n          </a>\n        </li>\n        <li *ngIf=\"hasTimePicker\" class=\"{{ prefixCls }}-ok\">\n          <button\n            nz-button\n            type=\"button\"\n            nzType=\"primary\"\n            nzSize=\"small\"\n            [disabled]=\"okDisabled\"\n            (click)=\"okDisabled ? null : clickOk.emit()\"\n          >\n            {{ locale.ok }}\n          </button>\n        </li>\n      </ul>\n    </div>\n  `\n})\nexport class CalendarFooterComponent implements OnChanges {\n  @Input() locale!: NzCalendarI18nInterface;\n  @Input() showToday: boolean = false;\n  @Input() hasTimePicker: boolean = false;\n  @Input() isRange: boolean = false;\n\n  @Input() okDisabled: boolean = false;\n  @Input() disabledDate?: (d: Date) => boolean;\n  @Input() extraFooter?: TemplateRef<void> | string;\n  @Input() rangeQuickSelector: TemplateRef<NzSafeAny> | null = null;\n\n  @Output() readonly clickOk = new EventEmitter<void>();\n  @Output() readonly clickToday = new EventEmitter<CandyDate>();\n\n  prefixCls: string = PREFIX_CLASS;\n  isTemplateRef = isTemplateRef;\n  isNonEmptyString = isNonEmptyString;\n  isTodayDisabled: boolean = false;\n  todayTitle: string = '';\n  private now: CandyDate = new CandyDate();\n\n  constructor(private dateHelper: DateHelperService) {}\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.disabledDate) {\n      this.isTodayDisabled = !!(this.disabledDate && this.disabledDate(this.now.nativeDate));\n    }\n    if (changes.locale) {\n      // NOTE: Compat for DatePipe formatting rules\n      const dateFormat: string = transCompatFormat(this.locale.dateFormat);\n      this.todayTitle = this.dateHelper.format(this.now.nativeDate, dateFormat);\n    }\n  }\n\n  onClickToday(): void {\n    this.clickToday.emit(this.now.clone()); // To prevent the \"now\" being modified from outside, we use clone\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { Injectable, OnDestroy } from '@angular/core';\nimport { CandyDate, cloneDate, CompatibleValue, normalizeRangeValue } from 'ng-zorro-antd/core/time';\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\nimport { ReplaySubject, Subject } from 'rxjs';\nimport { CompatibleDate, RangePartType } from './standard-types';\n\n@Injectable()\nexport class DatePickerService implements OnDestroy {\n  initialValue?: CompatibleValue;\n  value!: CompatibleValue;\n  activeDate?: CompatibleValue;\n  activeInput: RangePartType = 'left';\n  arrowPositionStyle: { [klass: string]: NzSafeAny } | null = {};\n  isRange = false;\n\n  valueChange$ = new ReplaySubject<CompatibleValue>(1);\n  emitValue$ = new Subject<void>();\n  inputPartChange$ = new Subject<RangePartType>();\n\n  initValue(): void {\n    if (this.isRange) {\n      this.setActiveDate([]);\n      this.value = this.initialValue = [];\n    } else {\n      this.value = this.initialValue = null;\n    }\n  }\n\n  hasValue(value: CompatibleValue = this.value): boolean {\n    if (Array.isArray(value)) {\n      return !!value[0] && !!value[1];\n    } else {\n      return !!value;\n    }\n  }\n\n  makeValue(value?: CompatibleDate): CompatibleValue {\n    if (this.isRange) {\n      return value ? (value as Date[]).map(val => new CandyDate(val)) : [];\n    } else {\n      return value ? new CandyDate(value as Date) : null;\n    }\n  }\n\n  setActiveDate(value: CompatibleValue, normalize: boolean = false): void {\n    if (this.isRange) {\n      this.activeDate = normalize ? normalizeRangeValue(value as CandyDate[]) : value;\n    } else {\n      this.activeDate = cloneDate(value);\n    }\n  }\n\n  setValue(value: CompatibleValue): void {\n    this.value = value;\n    this.valueChange$.next(this.value);\n  }\n\n  getActiveIndex(part: RangePartType = this.activeInput): number {\n    return { left: 0, right: 1 }[part];\n  }\n\n  ngOnDestroy(): void {\n    this.valueChange$.complete();\n    this.emitValue$.complete();\n    this.inputPartChange$.complete();\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges,\n  TemplateRef,\n  ViewEncapsulation\n} from '@angular/core';\n\nimport { CandyDate, cloneDate, CompatibleValue, SingleValue, sortRangeValue } from 'ng-zorro-antd/core/time';\nimport { FunctionProp } from 'ng-zorro-antd/core/types';\nimport { NzCalendarI18nInterface } from 'ng-zorro-antd/i18n';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { DatePickerService } from './date-picker.service';\nimport {\n  CompatibleDate,\n  DisabledDateFn,\n  DisabledTimeFn,\n  DisabledTimePartial,\n  NzDateMode,\n  PresetRanges,\n  RangePartType,\n  SupportTimeOptions\n} from './standard-types';\nimport { getTimeConfig, isAllowedDate, PREFIX_CLASS } from './util';\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  // tslint:disable-next-line:component-selector\n  selector: 'date-range-popup',\n  exportAs: 'dateRangePopup',\n  template: `\n    <ng-container *ngIf=\"isRange; else singlePanel\">\n      <div class=\"{{ prefixCls }}-range-wrapper {{ prefixCls }}-date-range-wrapper\">\n        <div class=\"{{ prefixCls }}-range-arrow\" [ngStyle]=\"datePickerService?.arrowPositionStyle!\"></div>\n        <div class=\"{{ prefixCls }}-panel-container\">\n          <div class=\"{{ prefixCls }}-panels\">\n            <ng-container *ngTemplateOutlet=\"tplRangePart; context: { partType: 'left' }\"></ng-container>\n            <ng-container *ngTemplateOutlet=\"tplRangePart; context: { partType: 'right' }\"></ng-container>\n          </div>\n          <ng-container *ngTemplateOutlet=\"tplFooter\"></ng-container>\n        </div>\n      </div>\n    </ng-container>\n    <ng-template #singlePanel>\n      <div\n        class=\"{{ prefixCls }}-panel-container {{ showWeek ? prefixCls + '-week-number' : '' }} {{\n          hasTimePicker ? prefixCls + '-time' : ''\n        }} {{ isRange ? prefixCls + '-range' : '' }}\"\n      >\n        <div class=\"{{ prefixCls }}-panel\" tabindex=\"-1\">\n          <!-- Single ONLY -->\n          <ng-container *ngTemplateOutlet=\"tplInnerPopup\"></ng-container>\n          <ng-container *ngTemplateOutlet=\"tplFooter\"></ng-container>\n        </div>\n      </div>\n    </ng-template>\n\n    <ng-template #tplInnerPopup let-partType=\"partType\">\n      <!-- TODO(@wenqi73) [selectedValue] [hoverValue] types-->\n      <inner-popup\n        *ngIf=\"show(partType)\"\n        [showWeek]=\"showWeek\"\n        [endPanelMode]=\"getPanelMode(endPanelMode, partType)\"\n        [partType]=\"partType\"\n        [locale]=\"locale!\"\n        [showTimePicker]=\"hasTimePicker\"\n        [timeOptions]=\"getTimeOptions(partType)\"\n        [panelMode]=\"getPanelMode(panelMode, partType)\"\n        (panelModeChange)=\"onPanelModeChange($event, partType)\"\n        [activeDate]=\"getActiveDate(partType)\"\n        [value]=\"getValue(partType)\"\n        [disabledDate]=\"disabledDate\"\n        [dateRender]=\"dateRender\"\n        [selectedValue]=\"$any(datePickerService?.value)\"\n        [hoverValue]=\"$any(hoverValue)\"\n        (dayHover)=\"onDayHover($event)\"\n        (selectDate)=\"changeValueFromSelect($event, !showTime)\"\n        (selectTime)=\"onSelectTime($event, partType)\"\n        (headerChange)=\"onActiveDateChange($event, partType)\"\n      ></inner-popup>\n    </ng-template>\n\n    <ng-template #tplFooter>\n      <calendar-footer\n        *ngIf=\"hasFooter\"\n        [locale]=\"locale!\"\n        [isRange]=\"isRange\"\n        [showToday]=\"showToday\"\n        [hasTimePicker]=\"hasTimePicker\"\n        [okDisabled]=\"!isAllowed($any(datePickerService?.value))\"\n        [extraFooter]=\"extraFooter\"\n        [rangeQuickSelector]=\"ranges ? tplRangeQuickSelector : null\"\n        (clickOk)=\"onClickOk()\"\n        (clickToday)=\"onClickToday($event)\"\n      ></calendar-footer>\n    </ng-template>\n\n    <ng-template #tplRangePart let-partType=\"partType\">\n      <div class=\"{{ prefixCls }}-panel\">\n        <ng-container *ngTemplateOutlet=\"tplInnerPopup; context: { partType: partType }\"></ng-container>\n      </div>\n    </ng-template>\n\n    <!-- Range ONLY: Range Quick Selector -->\n    <ng-template #tplRangeQuickSelector>\n      <li\n        *ngFor=\"let name of getObjectKeys(ranges)\"\n        class=\"{{ prefixCls }}-preset\"\n        (click)=\"onClickPresetRange(ranges![name])\"\n        (mouseenter)=\"onHoverPresetRange(ranges![name])\"\n        (mouseleave)=\"onPresetRangeMouseLeave()\"\n      >\n        <span class=\"ant-tag ant-tag-blue\">{{ name }}</span>\n      </li>\n    </ng-template>\n  `\n})\nexport class DateRangePopupComponent implements OnInit, OnChanges, OnDestroy {\n  @Input() isRange!: boolean;\n  @Input() showWeek!: boolean;\n  @Input() locale!: NzCalendarI18nInterface | undefined;\n  @Input() format!: string;\n  @Input() placeholder!: string | string[];\n  @Input() disabledDate?: DisabledDateFn;\n  @Input() disabledTime?: DisabledTimeFn; // This will lead to rebuild time options\n  @Input() showToday!: boolean;\n  @Input() showTime!: SupportTimeOptions | boolean;\n  @Input() extraFooter?: TemplateRef<void> | string;\n  @Input() ranges?: PresetRanges;\n  @Input() dateRender?: string | TemplateRef<Date> | FunctionProp<TemplateRef<Date> | string>;\n  @Input() panelMode!: NzDateMode | NzDateMode[];\n  @Input() defaultPickerValue!: CompatibleDate | undefined | null;\n  @Output() readonly panelModeChange = new EventEmitter<NzDateMode | NzDateMode[]>();\n  @Output() readonly calendarChange = new EventEmitter<CompatibleValue>();\n  @Output() readonly resultOk = new EventEmitter<void>(); // Emitted when done with date selecting\n\n  prefixCls: string = PREFIX_CLASS;\n  endPanelMode: NzDateMode | NzDateMode[] = 'date';\n  timeOptions: SupportTimeOptions | SupportTimeOptions[] | null = null;\n  hoverValue: SingleValue[] = []; // Range ONLY\n  destroy$ = new Subject();\n\n  get hasTimePicker(): boolean {\n    return !!this.showTime;\n  }\n\n  get hasFooter(): boolean {\n    return this.showToday || this.hasTimePicker || !!this.extraFooter || !!this.ranges;\n  }\n\n  constructor(public datePickerService: DatePickerService, public cdr: ChangeDetectorRef) {}\n\n  ngOnInit(): void {\n    this.datePickerService.valueChange$.pipe(takeUntil(this.destroy$)).subscribe(() => {\n      this.initActiveDate();\n      this.cdr.markForCheck();\n    });\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    // Parse showTime options\n    if (changes.showTime || changes.disabledTime) {\n      if (this.showTime) {\n        this.buildTimeOptions();\n      }\n    }\n    if (changes.panelMode) {\n      this.endPanelMode = this.panelMode;\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  initActiveDate(): void {\n    const activeDate = this.datePickerService.hasValue()\n      ? this.datePickerService.value\n      : this.datePickerService.makeValue(this.defaultPickerValue!);\n    this.datePickerService.setActiveDate(activeDate, !this.showTime);\n  }\n\n  onClickOk(): void {\n    const otherPart = this.datePickerService.activeInput === 'left' ? 'right' : 'left';\n    const selectedValue = this.datePickerService.value;\n    if (this.isAllowed(selectedValue, true)) {\n      this.resultOk.emit();\n    } else {\n      if (this.isRange && this.isOneAllowed(selectedValue as CandyDate[])) {\n        this.datePickerService.inputPartChange$.next(otherPart);\n      } else {\n        this.datePickerService.inputPartChange$.next();\n      }\n    }\n  }\n\n  onClickToday(value: CandyDate): void {\n    this.changeValueFromSelect(value, !this.showTime);\n  }\n\n  onDayHover(value: CandyDate): void {\n    if (!this.isRange) {\n      return;\n    }\n    const otherInputIndex = { left: 1, right: 0 }[this.datePickerService.activeInput];\n    const base = (this.datePickerService.value as CandyDate[])[otherInputIndex]!;\n    if (base) {\n      if (base.isBeforeDay(value)) {\n        this.hoverValue = [base, value];\n      } else {\n        this.hoverValue = [value, base];\n      }\n    }\n  }\n\n  onPanelModeChange(mode: NzDateMode, partType?: RangePartType): void {\n    if (this.isRange) {\n      const index = this.datePickerService.getActiveIndex(partType);\n      if (index === 0) {\n        this.panelMode = [mode, this.panelMode[1]] as NzDateMode[];\n      } else {\n        this.panelMode = [this.panelMode[0], mode] as NzDateMode[];\n      }\n    } else {\n      this.panelMode = mode;\n    }\n    // this.cdr.markForCheck();\n    this.panelModeChange.emit(this.panelMode);\n  }\n\n  onActiveDateChange(value: CandyDate, partType: RangePartType): void {\n    if (this.isRange) {\n      if (partType === 'left') {\n        this.datePickerService.activeDate = [value, value.addMonths(1)];\n      } else {\n        this.datePickerService.activeDate = [value.addMonths(-1), value];\n      }\n    } else {\n      this.datePickerService.activeDate = value;\n    }\n  }\n\n  onSelectTime(value: CandyDate, partType?: RangePartType): void {\n    if (this.isRange) {\n      const newValue = cloneDate(this.datePickerService.value) as SingleValue[];\n      const index = this.datePickerService.getActiveIndex(partType);\n      newValue[index] = this.overrideHms(value, newValue[index]);\n      this.datePickerService.setValue(newValue);\n    } else {\n      const newValue = this.overrideHms(value, this.datePickerService.value as CandyDate);\n      this.datePickerService.setValue(newValue); // If not select a date currently, use today\n    }\n    this.datePickerService.inputPartChange$.next();\n    this.buildTimeOptions();\n  }\n\n  changeValueFromSelect(value: CandyDate, emitValue: boolean = true): void {\n    if (this.isRange) {\n      let selectedValue: SingleValue[] = cloneDate(this.datePickerService.value) as CandyDate[];\n      let otherPart: RangePartType;\n      if (this.datePickerService.activeInput === 'left') {\n        otherPart = 'right';\n        selectedValue[0] = value;\n      } else {\n        otherPart = 'left';\n        selectedValue[1] = value;\n      }\n\n      selectedValue = sortRangeValue(selectedValue);\n      this.hoverValue = selectedValue;\n      this.datePickerService.setValue(selectedValue);\n      this.datePickerService.setActiveDate(selectedValue, !this.showTime);\n      this.datePickerService.inputPartChange$.next();\n\n      if (!this.isAllowed(selectedValue)) {\n        return;\n      }\n\n      if (emitValue) {\n        // If the other input has value\n        if (this.isBothAllowed(selectedValue)) {\n          this.calendarChange.emit(selectedValue);\n          this.clearHoverValue();\n          this.datePickerService.emitValue$.next();\n        } else {\n          this.calendarChange.emit([value.clone()]);\n          this.datePickerService.inputPartChange$.next(otherPart!);\n        }\n      }\n    } else {\n      this.datePickerService.setValue(value);\n      this.datePickerService.setActiveDate(value, !this.showTime);\n      this.datePickerService.inputPartChange$.next();\n\n      if (!this.isAllowed(value)) {\n        return;\n      }\n      if (emitValue) {\n        this.datePickerService.emitValue$.next();\n      }\n    }\n  }\n\n  getPanelMode(panelMode: NzDateMode | NzDateMode[], partType?: RangePartType): NzDateMode {\n    if (this.isRange) {\n      return panelMode[this.datePickerService.getActiveIndex(partType)] as NzDateMode;\n    } else {\n      return panelMode as NzDateMode;\n    }\n  }\n\n  // Get single value or part value of a range\n  getValue(partType?: RangePartType): CandyDate {\n    if (this.isRange) {\n      return ((this.datePickerService.value as CandyDate[]) || [])[this.datePickerService.getActiveIndex(partType)];\n    } else {\n      return this.datePickerService.value as CandyDate;\n    }\n  }\n\n  getActiveDate(partType?: RangePartType): CandyDate {\n    if (this.isRange) {\n      return (this.datePickerService.activeDate as CandyDate[])[this.datePickerService.getActiveIndex(partType)];\n    } else {\n      return this.datePickerService.activeDate as CandyDate;\n    }\n  }\n\n  disabledStartTime: DisabledTimeFn = (value: Date | Date[]) => {\n    return this.disabledTime && this.disabledTime(value, 'start');\n  };\n\n  disabledEndTime: DisabledTimeFn = (value: Date | Date[]) => {\n    return this.disabledTime && this.disabledTime(value, 'end');\n  };\n\n  isOneAllowed(selectedValue: SingleValue[]): boolean {\n    const index = this.datePickerService.getActiveIndex();\n    const disabledTimeArr = [this.disabledStartTime, this.disabledEndTime];\n    return isAllowedDate(selectedValue[index]!, this.disabledDate, disabledTimeArr[index]);\n  }\n\n  isBothAllowed(selectedValue: SingleValue[]): boolean {\n    return (\n      isAllowedDate(selectedValue[0]!, this.disabledDate, this.disabledStartTime) &&\n      isAllowedDate(selectedValue[1]!, this.disabledDate, this.disabledEndTime)\n    );\n  }\n\n  isAllowed(value: CompatibleValue, isBoth: boolean = false): boolean {\n    if (this.isRange) {\n      return isBoth ? this.isBothAllowed(value as CandyDate[]) : this.isOneAllowed(value as CandyDate[]);\n    } else {\n      return isAllowedDate(value as CandyDate, this.disabledDate, this.disabledTime);\n    }\n  }\n\n  getTimeOptions(partType?: RangePartType): SupportTimeOptions | null {\n    if (this.showTime && this.timeOptions) {\n      return this.timeOptions instanceof Array ? this.timeOptions[this.datePickerService.getActiveIndex(partType)] : this.timeOptions;\n    }\n    return null;\n  }\n\n  onClickPresetRange(val: PresetRanges[keyof PresetRanges]): void {\n    const value = typeof val === 'function' ? val() : val;\n    if (value) {\n      this.datePickerService.setValue([new CandyDate(value[0]), new CandyDate(value[1])]);\n      this.resultOk.emit();\n    }\n  }\n\n  onPresetRangeMouseLeave(): void {\n    this.clearHoverValue();\n  }\n\n  onHoverPresetRange(val: PresetRanges[keyof PresetRanges]): void {\n    if (typeof val !== 'function') {\n      this.hoverValue = [new CandyDate(val[0]), new CandyDate(val[1])];\n    }\n  }\n\n  getObjectKeys(obj?: PresetRanges): string[] {\n    return obj ? Object.keys(obj) : [];\n  }\n\n  show(partType: RangePartType): boolean {\n    const hide = this.showTime && this.isRange && this.datePickerService.activeInput !== partType;\n    return !hide;\n  }\n\n  private clearHoverValue(): void {\n    this.hoverValue = [];\n  }\n\n  private buildTimeOptions(): void {\n    if (this.showTime) {\n      const showTime = typeof this.showTime === 'object' ? this.showTime : {};\n      if (this.isRange) {\n        const value = this.datePickerService.value as CandyDate[];\n        this.timeOptions = [this.overrideTimeOptions(showTime, value[0], 'start'), this.overrideTimeOptions(showTime, value[1], 'end')];\n      } else {\n        this.timeOptions = this.overrideTimeOptions(showTime, this.datePickerService.value as CandyDate);\n      }\n    } else {\n      this.timeOptions = null;\n    }\n  }\n\n  private overrideTimeOptions(origin: SupportTimeOptions, value: CandyDate, partial?: DisabledTimePartial): SupportTimeOptions {\n    let disabledTimeFn;\n    if (partial) {\n      disabledTimeFn = partial === 'start' ? this.disabledStartTime : this.disabledEndTime;\n    } else {\n      disabledTimeFn = this.disabledTime;\n    }\n    return { ...origin, ...getTimeConfig(value, disabledTimeFn) };\n  }\n\n  private overrideHms(newValue: CandyDate | null, oldValue: CandyDate | null): CandyDate {\n    // tslint:disable-next-line:no-parameter-reassignment\n    newValue = newValue || new CandyDate();\n    // tslint:disable-next-line:no-parameter-reassignment\n    oldValue = oldValue || new CandyDate();\n    return oldValue.setHms(newValue.getHours(), newValue.getMinutes(), newValue.getSeconds());\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport {\n  CdkConnectedOverlay,\n  CdkOverlayOrigin,\n  ConnectedOverlayPositionChange,\n  ConnectionPositionPair,\n  HorizontalConnectionPos,\n  VerticalConnectionPos\n} from '@angular/cdk/overlay';\nimport { DOCUMENT } from '@angular/common';\nimport {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ContentChild,\n  ElementRef,\n  EventEmitter,\n  Inject,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  QueryList,\n  SimpleChanges,\n  TemplateRef,\n  ViewChild,\n  ViewChildren,\n  ViewEncapsulation\n} from '@angular/core';\nimport { slideMotion } from 'ng-zorro-antd/core/animation';\n\nimport { CandyDate, CompatibleValue } from 'ng-zorro-antd/core/time';\nimport { NgStyleInterface, NzSafeAny } from 'ng-zorro-antd/core/types';\nimport { DateHelperService } from 'ng-zorro-antd/i18n';\nimport { fromEvent, Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { DatePickerService } from './date-picker.service';\nimport { DateRangePopupComponent } from './date-range-popup.component';\nimport { RangePartType } from './standard-types';\nimport { PREFIX_CLASS } from './util';\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  selector: '[nz-picker]',\n  exportAs: 'nzPicker',\n  template: `\n    <!-- Content of single picker -->\n    <div *ngIf=\"!isRange\" class=\"{{ prefixCls }}-input\">\n      <input\n        #pickerInput\n        [class.ant-input-disabled]=\"disabled\"\n        [disabled]=\"disabled\"\n        [readOnly]=\"inputReadOnly\"\n        [(ngModel)]=\"inputValue\"\n        placeholder=\"{{ getPlaceholder() }}\"\n        [size]=\"inputSize\"\n        (focus)=\"onFocus()\"\n        (blur)=\"onBlur()\"\n        (input)=\"onInputKeyup($event)\"\n        (keyup.enter)=\"onInputKeyup($event, true)\"\n      />\n      <ng-container *ngTemplateOutlet=\"tplRightRest\"></ng-container>\n    </div>\n\n    <!-- Content of range picker -->\n    <ng-container *ngIf=\"isRange\">\n      <div class=\"{{ prefixCls }}-input\">\n        <ng-container *ngTemplateOutlet=\"tplRangeInput; context: { partType: 'left' }\"></ng-container>\n      </div>\n      <div #separatorElement class=\"{{ prefixCls }}-range-separator\">\n        <span class=\"{{ prefixCls }}-separator\">\n          <ng-container *ngIf=\"separator; else defaultSeparator\">{{ separator }}</ng-container>\n        </span>\n        <ng-template #defaultSeparator>\n          <i nz-icon nzType=\"swap-right\" nzTheme=\"outline\"></i>\n        </ng-template>\n      </div>\n      <div class=\"{{ prefixCls }}-input\">\n        <ng-container *ngTemplateOutlet=\"tplRangeInput; context: { partType: 'right' }\"></ng-container>\n      </div>\n      <ng-container *ngTemplateOutlet=\"tplRightRest\"></ng-container>\n    </ng-container>\n    <!-- Input for Range ONLY -->\n    <ng-template #tplRangeInput let-partType=\"partType\">\n      <input\n        #rangePickerInput\n        [disabled]=\"disabled\"\n        [readOnly]=\"inputReadOnly\"\n        [size]=\"inputSize\"\n        (click)=\"onClickInputBox($event, partType)\"\n        (blur)=\"onBlur()\"\n        (input)=\"onInputKeyup($event)\"\n        (focus)=\"onFocus(partType)\"\n        (keyup.enter)=\"onInputKeyup($event, true)\"\n        [(ngModel)]=\"inputValue[datePickerService.getActiveIndex(partType)]\"\n        placeholder=\"{{ getPlaceholder(partType) }}\"\n      />\n    </ng-template>\n\n    <!-- Right operator icons -->\n    <ng-template #tplRightRest>\n      <div class=\"{{ prefixCls }}-active-bar\" [ngStyle]=\"activeBarStyle\"></div>\n      <span *ngIf=\"showClear()\" class=\"{{ prefixCls }}-clear\" (click)=\"onClickClear($event)\">\n        <i nz-icon nzType=\"close-circle\" nzTheme=\"fill\"></i>\n      </span>\n      <span class=\"{{ prefixCls }}-suffix\">\n        <ng-container *nzStringTemplateOutlet=\"suffixIcon; let suffixIcon\">\n          <i nz-icon [nzType]=\"suffixIcon\"></i>\n        </ng-container>\n      </span>\n    </ng-template>\n\n    <!-- Overlay -->\n    <ng-template\n      cdkConnectedOverlay\n      nzConnectedOverlay\n      [cdkConnectedOverlayOrigin]=\"origin\"\n      [cdkConnectedOverlayOpen]=\"realOpenState\"\n      [cdkConnectedOverlayHasBackdrop]=\"!isOpenHandledByUser()\"\n      [cdkConnectedOverlayPositions]=\"overlayPositions\"\n      [cdkConnectedOverlayTransformOriginOn]=\"'.ant-picker-wrapper'\"\n      (positionChange)=\"onPositionChange($event)\"\n      (backdropClick)=\"onClickBackdrop()\"\n      (detach)=\"onOverlayDetach()\"\n      (overlayKeydown)=\"onOverlayKeydown($event)\"\n    >\n      <div\n        class=\"ant-picker-wrapper\"\n        [nzNoAnimation]=\"noAnimation\"\n        [@slideMotion]=\"'enter'\"\n        (@slideMotion.done)=\"animationDone()\"\n        style=\"position: relative;\"\n      >\n        <div\n          class=\"{{ prefixCls }}-dropdown {{ dropdownClassName }}\"\n          [class.ant-picker-dropdown-placement-bottomLeft]=\"currentPositionY === 'bottom' && currentPositionX === 'start'\"\n          [class.ant-picker-dropdown-placement-topLeft]=\"currentPositionY === 'top' && currentPositionX === 'start'\"\n          [class.ant-picker-dropdown-placement-bottomRight]=\"currentPositionY === 'bottom' && currentPositionX === 'end'\"\n          [class.ant-picker-dropdown-placement-topRight]=\"currentPositionY === 'top' && currentPositionX === 'end'\"\n          [class.ant-picker-dropdown-range]=\"isRange\"\n          [ngStyle]=\"popupStyle\"\n        >\n          <!-- Compatible for overlay that not support offset dynamically and immediately -->\n          <ng-content></ng-content>\n        </div>\n      </div>\n    </ng-template>\n  `,\n  animations: [slideMotion],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class NzPickerComponent implements OnInit, AfterViewInit, OnChanges, OnDestroy {\n  @Input() noAnimation: boolean = false;\n  @Input() isRange: boolean = false;\n  @Input() open: boolean | undefined = undefined;\n  @Input() disabled: boolean = false;\n  @Input() inputReadOnly: boolean = false;\n  @Input() placeholder!: string | string[];\n  @Input() allowClear?: boolean;\n  @Input() autoFocus?: boolean;\n  @Input() format!: string;\n  @Input() separator?: string;\n  @Input() popupStyle: NgStyleInterface | null = null;\n  @Input() dropdownClassName?: string;\n  @Input() suffixIcon?: string | TemplateRef<NzSafeAny>;\n\n  @Output() readonly focusChange = new EventEmitter<boolean>();\n  @Output() readonly valueChange = new EventEmitter<CandyDate | CandyDate[] | null>();\n  @Output() readonly openChange = new EventEmitter<boolean>(); // Emitted when overlay's open state change\n\n  @ViewChild(CdkConnectedOverlay, { static: false }) cdkConnectedOverlay?: CdkConnectedOverlay;\n  @ViewChild('separatorElement', { static: false }) separatorElement?: ElementRef;\n  @ViewChild('pickerInput', { static: false }) pickerInput?: ElementRef<HTMLInputElement>;\n  @ViewChildren('rangePickerInput') rangePickerInputs!: QueryList<ElementRef<HTMLInputElement>>;\n  @ContentChild(DateRangePopupComponent) panel!: DateRangePopupComponent;\n\n  origin: CdkOverlayOrigin;\n  document: Document;\n  inputSize?: number;\n  inputWidth?: number;\n  arrowLeft?: number;\n  destroy$ = new Subject();\n  prefixCls = PREFIX_CLASS;\n  // Index signature in type 'string | string[]' only permits reading\n  inputValue: NzSafeAny;\n  activeBarStyle: object = { position: 'absolute' };\n  animationOpenState = false;\n  overlayOpen: boolean = false; // Available when \"open\"=undefined\n  overlayPositions: ConnectionPositionPair[] = [\n    {\n      offsetX: -12,\n      offsetY: 8,\n      originX: 'start',\n      originY: 'bottom',\n      overlayX: 'start',\n      overlayY: 'top'\n    },\n    {\n      offsetX: -12,\n      offsetY: -8,\n      originX: 'start',\n      originY: 'top',\n      overlayX: 'start',\n      overlayY: 'bottom'\n    },\n    {\n      offsetX: 12,\n      offsetY: 8,\n      originX: 'end',\n      originY: 'bottom',\n      overlayX: 'end',\n      overlayY: 'top'\n    },\n    {\n      offsetX: 12,\n      offsetY: -8,\n      originX: 'end',\n      originY: 'top',\n      overlayX: 'end',\n      overlayY: 'bottom'\n    }\n  ] as ConnectionPositionPair[];\n  currentPositionX: HorizontalConnectionPos = 'start';\n  currentPositionY: VerticalConnectionPos = 'bottom';\n\n  get realOpenState(): boolean {\n    // The value that really decide the open state of overlay\n    return this.isOpenHandledByUser() ? !!this.open : this.overlayOpen;\n  }\n\n  constructor(\n    private elementRef: ElementRef,\n    private dateHelper: DateHelperService,\n    private changeDetector: ChangeDetectorRef,\n    public datePickerService: DatePickerService,\n    @Inject(DOCUMENT) doc: NzSafeAny\n  ) {\n    this.document = doc;\n    this.origin = new CdkOverlayOrigin(this.elementRef);\n    this.updateInputValue();\n  }\n\n  ngOnInit(): void {\n    this.inputSize = Math.max(10, this.format.length) + 2;\n\n    this.datePickerService.valueChange$.pipe(takeUntil(this.destroy$)).subscribe(() => {\n      this.updateInputValue();\n      this.changeDetector.markForCheck();\n    });\n  }\n\n  ngAfterViewInit(): void {\n    if (this.autoFocus) {\n      this.focus();\n    }\n\n    if (this.isRange) {\n      fromEvent(window, 'resize')\n        .pipe(takeUntil(this.destroy$))\n        .subscribe(() => {\n          this.resetInputWidthAndArrowLeft();\n        });\n    }\n    this.datePickerService.inputPartChange$.pipe(takeUntil(this.destroy$)).subscribe(partType => {\n      if (partType) {\n        this.datePickerService.activeInput = partType;\n      }\n      this.datePickerService.arrowPositionStyle = {\n        left: this.datePickerService.activeInput === 'left' ? '0px' : `${this.arrowLeft}px`\n      };\n      this.activeBarStyle = {\n        ...this.activeBarStyle,\n        ...this.datePickerService.arrowPositionStyle,\n        width: `${this.inputWidth}px`\n      };\n      if (this.document.activeElement !== this.getInput(this.datePickerService.activeInput)) {\n        this.focus();\n      }\n      this.panel?.cdr.markForCheck();\n      this.changeDetector.markForCheck();\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.open) {\n      this.animationStart();\n    }\n  }\n\n  resetInputWidthAndArrowLeft(): void {\n    this.inputWidth = this.rangePickerInputs?.first?.nativeElement.offsetWidth || 0;\n    this.arrowLeft = this.inputWidth + this.separatorElement?.nativeElement.offsetWidth || 0;\n  }\n\n  getInput(partType?: RangePartType): HTMLInputElement {\n    return this.isRange\n      ? partType === 'left'\n        ? this.rangePickerInputs.first.nativeElement\n        : this.rangePickerInputs.last.nativeElement\n      : this.pickerInput!.nativeElement;\n  }\n\n  focus(): void {\n    this.getInput(this.datePickerService.activeInput).focus(); // Focus on the first input\n  }\n\n  onFocus(partType?: RangePartType): void {\n    if (partType) {\n      this.datePickerService.inputPartChange$.next(partType);\n    }\n    this.focusChange.emit(true);\n  }\n\n  onBlur(): void {\n    this.focusChange.emit(false);\n  }\n\n  // Show overlay content\n  showOverlay(): void {\n    if (!this.realOpenState) {\n      this.resetInputWidthAndArrowLeft();\n      this.overlayOpen = true;\n      this.animationStart();\n      this.focus();\n      this.openChange.emit(true);\n    }\n  }\n\n  hideOverlay(): void {\n    if (this.realOpenState) {\n      this.overlayOpen = false;\n      this.openChange.emit(false);\n      this.focus();\n    }\n  }\n\n  showClear(): boolean {\n    return !this.disabled && !this.isEmptyValue(this.datePickerService.value) && !!this.allowClear;\n  }\n\n  onClickInputBox(event: MouseEvent, partType?: RangePartType): void {\n    event.stopPropagation();\n\n    if (!this.disabled && !this.isOpenHandledByUser()) {\n      this.showOverlay();\n    }\n    this.onFocus(partType);\n  }\n\n  onClickBackdrop(): void {\n    if (this.panel.isAllowed(this.datePickerService.value!, true)) {\n      this.updateInputValue();\n      this.datePickerService.emitValue$.next();\n    } else {\n      this.datePickerService.setValue(this.datePickerService.initialValue!);\n      this.hideOverlay();\n    }\n  }\n\n  onOverlayDetach(): void {\n    this.hideOverlay();\n  }\n\n  onOverlayKeydown(event: KeyboardEvent): void {\n    if (event.key === 'Escape') {\n      this.datePickerService.setValue(this.datePickerService.initialValue!);\n    }\n  }\n\n  // NOTE: A issue here, the first time position change, the animation will not be triggered.\n  // Because the overlay's \"positionChange\" event is emitted after the content's full shown up.\n  // All other components like \"nz-dropdown\" which depends on overlay also has the same issue.\n  // See: https://github.com/NG-ZORRO/ng-zorro-antd/issues/1429\n  onPositionChange(position: ConnectedOverlayPositionChange): void {\n    this.currentPositionX = position.connectionPair.originX;\n    this.currentPositionY = position.connectionPair.originY;\n    this.changeDetector.detectChanges(); // Take side-effects to position styles\n  }\n\n  onClickClear(event: MouseEvent): void {\n    event.preventDefault();\n    event.stopPropagation();\n\n    this.datePickerService.setValue(this.isRange ? [] : null);\n    this.datePickerService.emitValue$.next();\n  }\n\n  updateInputValue(): void {\n    const newValue = this.datePickerService.value;\n    if (this.isRange) {\n      this.inputValue = newValue ? (newValue as CandyDate[]).map(v => this.formatValue(v)) : ['', ''];\n    } else {\n      this.inputValue = this.formatValue(newValue as CandyDate);\n    }\n  }\n\n  formatValue(value: CandyDate): string {\n    return this.dateHelper.format(value && (value as CandyDate).nativeDate, this.format);\n  }\n\n  onInputKeyup(event: Event, emitValue: boolean = false): void {\n    if (!this.realOpenState) {\n      this.showOverlay();\n      return;\n    }\n    const date = this.checkValidInputDate((event as KeyboardEvent).target!);\n    if (this.panel && date) {\n      this.panel.changeValueFromSelect(date, emitValue);\n    }\n  }\n\n  private checkValidInputDate(inputTarget: EventTarget): CandyDate | null {\n    const input = (inputTarget as HTMLInputElement).value;\n    const date = new CandyDate(this.dateHelper.parseDate(input, this.format));\n\n    if (!date.isValid() || input !== this.dateHelper.format(date.nativeDate, this.format)) {\n      return null;\n    }\n\n    return date;\n  }\n\n  getPlaceholder(partType?: RangePartType): string {\n    return this.isRange ? this.placeholder[this.datePickerService.getActiveIndex(partType!)] : (this.placeholder as string);\n  }\n\n  isEmptyValue(value: CompatibleValue): boolean {\n    if (value === null) {\n      return true;\n    } else if (this.isRange) {\n      return !value || !Array.isArray(value) || value.every(val => !val);\n    } else {\n      return !value;\n    }\n  }\n\n  // Whether open state is permanently controlled by user himself\n  isOpenHandledByUser(): boolean {\n    return this.open !== undefined;\n  }\n\n  animationStart(): void {\n    if (this.realOpenState) {\n      this.animationOpenState = true;\n    }\n  }\n\n  animationDone(): void {\n    if (!this.realOpenState) {\n      this.animationOpenState = false;\n      this.changeDetector.markForCheck();\n    }\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Host,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Output,\n  Renderer2,\n  SimpleChanges,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { warnDeprecation } from 'ng-zorro-antd/core/logger';\nimport { NzNoAnimationDirective } from 'ng-zorro-antd/core/no-animation';\nimport { CandyDate, cloneDate, CompatibleValue } from 'ng-zorro-antd/core/time';\nimport { BooleanInput, FunctionProp, NzSafeAny, OnChangeType, OnTouchedType } from 'ng-zorro-antd/core/types';\nimport { InputBoolean, toBoolean, valueFunctionProp } from 'ng-zorro-antd/core/util';\nimport { DateHelperService, NzDatePickerI18nInterface, NzI18nService } from 'ng-zorro-antd/i18n';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { DatePickerService } from './date-picker.service';\n\nimport { NzConfigService, WithConfig } from 'ng-zorro-antd/core/config';\nimport { NzPickerComponent } from './picker.component';\nimport { CompatibleDate, DisabledTimeFn, NzDateMode, PresetRanges, SupportTimeOptions } from './standard-types';\n\nconst POPUP_STYLE_PATCH = { position: 'relative' }; // Aim to override antd's style to support overlay's position strategy (position:absolute will cause it not working beacuse the overlay can't get the height/width of it's content)\nconst NZ_CONFIG_COMPONENT_NAME = 'datePicker';\n\n/**\n * The base picker for all common APIs\n */\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'nz-date-picker,nz-week-picker,nz-month-picker,nz-year-picker,nz-range-picker',\n  exportAs: 'nzDatePicker',\n  template: `\n    <div\n      nz-picker\n      [isRange]=\"isRange\"\n      [open]=\"nzOpen\"\n      [separator]=\"nzSeparator\"\n      [disabled]=\"nzDisabled\"\n      [inputReadOnly]=\"nzInputReadOnly\"\n      [format]=\"nzFormat\"\n      [allowClear]=\"nzAllowClear\"\n      [autoFocus]=\"nzAutoFocus\"\n      [placeholder]=\"nzPlaceHolder\"\n      [ngClass]=\"nzClassName\"\n      style=\"display: inherit; align-items: center; width: 100%;\"\n      [ngStyle]=\"nzStyle\"\n      [dropdownClassName]=\"nzDropdownClassName\"\n      [popupStyle]=\"nzPopupStyle\"\n      [noAnimation]=\"!!noAnimation?.nzNoAnimation\"\n      [suffixIcon]=\"nzSuffixIcon\"\n      (openChange)=\"onOpenChange($event)\"\n      (focusChange)=\"onFocusChange($event)\"\n    >\n      <date-range-popup\n        *ngIf=\"realOpenState\"\n        [isRange]=\"isRange\"\n        [defaultPickerValue]=\"nzDefaultPickerValue\"\n        [showWeek]=\"showWeek\"\n        [panelMode]=\"nzMode\"\n        (panelModeChange)=\"onPanelModeChange($event)\"\n        (calendarChange)=\"onCalendarChange($event)\"\n        [locale]=\"nzLocale?.lang!\"\n        [showToday]=\"realShowToday\"\n        [showTime]=\"nzShowTime\"\n        [format]=\"nzFormat\"\n        [dateRender]=\"nzDateRender\"\n        [disabledDate]=\"nzDisabledDate\"\n        [disabledTime]=\"nzDisabledTime\"\n        [placeholder]=\"nzPlaceHolder\"\n        [extraFooter]=\"extraFooter\"\n        [ranges]=\"nzRanges\"\n        (resultOk)=\"onResultOk()\"\n      ></date-range-popup>\n    </div>\n  `,\n  host: {\n    '[class.ant-picker]': `true`,\n    '[class.ant-picker-range]': `isRange`,\n    '[class.ant-picker-large]': `nzSize === 'large'`,\n    '[class.ant-picker-small]': `nzSize === 'small'`,\n    '[class.ant-picker-disabled]': `nzDisabled`,\n    '(click)': 'picker.onClickInputBox($event)'\n  },\n  providers: [\n    DatePickerService,\n    {\n      provide: NG_VALUE_ACCESSOR,\n      multi: true,\n      useExisting: forwardRef(() => NzDatePickerComponent)\n    }\n  ]\n})\nexport class NzDatePickerComponent implements OnInit, OnChanges, OnDestroy, ControlValueAccessor {\n  static ngAcceptInputType_nzAllowClear: BooleanInput;\n  static ngAcceptInputType_nzAutoFocus: BooleanInput;\n  static ngAcceptInputType_nzDisabled: BooleanInput;\n  static ngAcceptInputType_nzInputReadOnly: BooleanInput;\n  static ngAcceptInputType_nzOpen: BooleanInput;\n  static ngAcceptInputType_nzShowToday: BooleanInput;\n  static ngAcceptInputType_nzMode: NzDateMode | NzDateMode[] | string | string[] | null | undefined;\n  static ngAcceptInputType_nzShowTime: BooleanInput | SupportTimeOptions | null | undefined;\n\n  isRange: boolean = false; // Indicate whether the value is a range value\n  showWeek: boolean = false; // Should show as week picker\n  focused: boolean = false;\n  extraFooter?: TemplateRef<NzSafeAny> | string;\n\n  protected destroyed$: Subject<void> = new Subject();\n  protected isCustomPlaceHolder: boolean = false;\n  private showTime: SupportTimeOptions | boolean = false;\n\n  // --- Common API\n  @Input() @InputBoolean() nzAllowClear: boolean = true;\n  @Input() @InputBoolean() nzAutoFocus: boolean = false;\n  @Input() @InputBoolean() nzDisabled: boolean = false;\n  @Input() @InputBoolean() nzInputReadOnly: boolean = false;\n  @Input() @InputBoolean() nzOpen?: boolean;\n  /**\n   * @deprecated 10.0.0. This is deprecated and going to be removed in 10.0.0.\n   */\n  @Input() nzClassName: string = '';\n  @Input() nzDisabledDate?: (d: Date) => boolean;\n  @Input() nzLocale!: NzDatePickerI18nInterface;\n  @Input() nzPlaceHolder: string | [string, string] = '';\n  @Input() nzPopupStyle: object = POPUP_STYLE_PATCH;\n  @Input() nzDropdownClassName?: string;\n  @Input() nzSize: 'large' | 'small' | 'default' = 'default';\n  /**\n   * @deprecated 10.0.0. This is deprecated and going to be removed in 10.0.0.\n   */\n  @Input() nzStyle: object | null = null;\n  @Input() nzFormat!: string;\n  @Input() nzDateRender?: TemplateRef<NzSafeAny> | string | FunctionProp<TemplateRef<Date> | string>;\n  @Input() nzDisabledTime?: DisabledTimeFn;\n  @Input() nzRenderExtraFooter?: TemplateRef<NzSafeAny> | string | FunctionProp<TemplateRef<NzSafeAny> | string>;\n  @Input() @InputBoolean() nzShowToday: boolean = true;\n  @Input() nzMode: NzDateMode | NzDateMode[] = 'date';\n  @Input() nzRanges?: PresetRanges;\n  @Input() nzDefaultPickerValue: CompatibleDate | null = null;\n  @Input() @WithConfig(NZ_CONFIG_COMPONENT_NAME) nzSeparator?: string = undefined;\n  @Input() @WithConfig(NZ_CONFIG_COMPONENT_NAME) nzSuffixIcon: string | TemplateRef<NzSafeAny> = 'calendar';\n\n  // TODO(@wenqi73) The PanelMode need named for each pickers and export\n  @Output() readonly nzOnPanelChange = new EventEmitter<NzDateMode | NzDateMode[] | string | string[]>();\n  @Output() readonly nzOnCalendarChange = new EventEmitter<Array<Date | null>>();\n  @Output() readonly nzOnOk = new EventEmitter<CompatibleDate | null>();\n  @Output() readonly nzOnOpenChange = new EventEmitter<boolean>();\n\n  @ViewChild(NzPickerComponent, { static: true }) picker!: NzPickerComponent;\n\n  @Input() get nzShowTime(): SupportTimeOptions | boolean {\n    return this.showTime;\n  }\n\n  set nzShowTime(value: SupportTimeOptions | boolean) {\n    this.showTime = typeof value === 'object' ? value : toBoolean(value);\n  }\n\n  get realOpenState(): boolean {\n    return this.picker.animationOpenState;\n  } // Use picker's real open state to let re-render the picker's content when shown up\n\n  constructor(\n    public nzConfigService: NzConfigService,\n    public datePickerService: DatePickerService,\n    protected i18n: NzI18nService,\n    protected cdr: ChangeDetectorRef,\n    private renderer: Renderer2,\n    private elementRef: ElementRef,\n    protected dateHelper: DateHelperService,\n    @Host() @Optional() public noAnimation?: NzNoAnimationDirective\n  ) {}\n\n  ngOnInit(): void {\n    // Subscribe the every locale change if the nzLocale is not handled by user\n    if (!this.nzLocale) {\n      this.i18n.localeChange.pipe(takeUntil(this.destroyed$)).subscribe(() => this.setLocale());\n    }\n\n    // Default value\n    this.datePickerService.isRange = this.isRange;\n    this.datePickerService.initValue();\n    this.datePickerService.emitValue$.pipe(takeUntil(this.destroyed$)).subscribe(_ => {\n      const value = this.datePickerService.value;\n      this.datePickerService.initialValue = cloneDate(value);\n      if (this.isRange) {\n        const vAsRange = value as CandyDate[];\n        if (vAsRange.length) {\n          this.onChangeFn([vAsRange[0].nativeDate, vAsRange[1].nativeDate]);\n        } else {\n          this.onChangeFn([]);\n        }\n      } else {\n        if (value) {\n          this.onChangeFn((value as CandyDate).nativeDate);\n        } else {\n          this.onChangeFn(null);\n        }\n      }\n      this.onTouchedFn();\n      // When value emitted, overlay will be closed\n      this.picker.hideOverlay();\n    });\n\n    // Default format when it's empty\n    if (!this.nzFormat) {\n      if (this.showWeek) {\n        this.nzFormat = 'yyyy-ww'; // Format for week\n      } else {\n        this.nzFormat = this.nzShowTime ? 'yyyy-MM-dd HH:mm:ss' : 'yyyy-MM-dd';\n      }\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.nzPopupStyle) {\n      // Always assign the popup style patch\n      this.nzPopupStyle = this.nzPopupStyle ? { ...this.nzPopupStyle, ...POPUP_STYLE_PATCH } : POPUP_STYLE_PATCH;\n    }\n\n    // Mark as customized placeholder by user once nzPlaceHolder assigned at the first time\n    if (changes.nzPlaceHolder && changes.nzPlaceHolder.firstChange && typeof this.nzPlaceHolder !== 'undefined') {\n      this.isCustomPlaceHolder = true;\n    }\n\n    if (changes.nzLocale) {\n      // The nzLocale is currently handled by user\n      this.setDefaultPlaceHolder();\n    }\n\n    if (changes.nzRenderExtraFooter) {\n      this.extraFooter = valueFunctionProp(this.nzRenderExtraFooter!);\n    }\n\n    if (changes.nzStyle) {\n      warnDeprecation(\n        `'nzStyle' in DatePicker is going to be removed in 10.0.0. Please use CSS style attribute like <nz-date-picker style=\"...\"></nz-date-picker> instead.`\n      );\n    }\n\n    if (changes.nzClassName) {\n      warnDeprecation(\n        `'nzClassName' in DatePicker is going to be removed in 10.0.0. Please use CSS class attribute like <nz-date-picker class=\"...\"></nz-date-picker> instead.`\n      );\n    }\n\n    if (changes.nzMode) {\n      this.setPanelMode();\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destroyed$.next();\n    this.destroyed$.complete();\n  }\n\n  setPanelMode(): void {\n    if (!this.nzMode) {\n      this.nzMode = this.isRange ? ['date', 'date'] : 'date';\n    }\n  }\n\n  /**\n   * Triggered when overlayOpen changes (different with realOpenState)\n   * @param open The overlayOpen in picker component\n   */\n  onOpenChange(open: boolean): void {\n    this.nzOnOpenChange.emit(open);\n  }\n\n  // ------------------------------------------------------------------------\n  // | Control value accessor implements\n  // ------------------------------------------------------------------------\n\n  // NOTE: onChangeFn/onTouchedFn will not be assigned if user not use as ngModel\n  onChangeFn: OnChangeType = () => void 0;\n  onTouchedFn: OnTouchedType = () => void 0;\n\n  writeValue(value: CompatibleDate): void {\n    this.setValue(value);\n    this.cdr.markForCheck();\n  }\n\n  registerOnChange(fn: OnChangeType): void {\n    this.onChangeFn = fn;\n  }\n\n  registerOnTouched(fn: OnTouchedType): void {\n    this.onTouchedFn = fn;\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.nzDisabled = isDisabled;\n    this.cdr.markForCheck();\n  }\n\n  // ------------------------------------------------------------------------\n  // | Internal methods\n  // ------------------------------------------------------------------------\n\n  // Reload locale from i18n with side effects\n  private setLocale(): void {\n    this.nzLocale = this.i18n.getLocaleData('DatePicker', {});\n    this.setDefaultPlaceHolder();\n    this.cdr.markForCheck();\n  }\n\n  private setDefaultPlaceHolder(): void {\n    if (!this.isCustomPlaceHolder && this.nzLocale) {\n      this.nzPlaceHolder = this.isRange ? (this.nzLocale.lang.rangePlaceholder as [string, string]) : this.nzLocale.lang.placeholder!;\n    }\n  }\n\n  // Safe way of setting value with default\n  private setValue(value: CompatibleDate): void {\n    const newValue: CompatibleValue = this.datePickerService.makeValue(value);\n    this.datePickerService.setValue(newValue);\n    this.datePickerService.initialValue = newValue;\n  }\n\n  get realShowToday(): boolean {\n    // Range only support in single date picker\n    return this.nzMode === 'date' && this.nzShowToday;\n  }\n\n  onFocusChange(value: boolean): void {\n    this.focused = value;\n    // TODO: avoid autoFocus cause change after checked error\n    if (this.focused) {\n      this.renderer.addClass(this.elementRef.nativeElement, 'ant-picker-focused');\n    } else {\n      this.renderer.removeClass(this.elementRef.nativeElement, 'ant-picker-focused');\n    }\n  }\n\n  onPanelModeChange(panelMode: NzDateMode | NzDateMode[]): void {\n    // this.nzMode = panelMode;\n    this.nzOnPanelChange.emit(panelMode);\n  }\n\n  // Emit nzOnCalendarChange when select date by nz-range-picker\n  onCalendarChange(value: CompatibleValue): void {\n    if (this.isRange && Array.isArray(value)) {\n      const rangeValue = value.filter(x => x instanceof CandyDate).map(x => x!.nativeDate);\n      this.nzOnCalendarChange.emit(rangeValue);\n    }\n  }\n\n  // Emitted when done with date selecting\n  onResultOk(): void {\n    if (this.isRange) {\n      const value = this.datePickerService.value as CandyDate[];\n      if (value.length) {\n        this.nzOnOk.emit([value[0].nativeDate, value[1].nativeDate]);\n      } else {\n        this.nzOnOk.emit([]);\n      }\n    } else {\n      if (this.datePickerService.value) {\n        this.nzOnOk.emit((this.datePickerService.value as CandyDate).nativeDate);\n      } else {\n        this.nzOnOk.emit(null);\n      }\n    }\n    this.datePickerService.emitValue$.next();\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  EventEmitter,\n  Input,\n  OnChanges,\n  Output,\n  SimpleChanges,\n  TemplateRef,\n  ViewEncapsulation\n} from '@angular/core';\n\nimport { CandyDate } from 'ng-zorro-antd/core/time';\nimport { FunctionProp } from 'ng-zorro-antd/core/types';\nimport { NzCalendarI18nInterface } from 'ng-zorro-antd/i18n';\nimport { DisabledDateFn, NzDateMode, RangePartType, SupportTimeOptions } from './standard-types';\nimport { PREFIX_CLASS } from './util';\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  // tslint:disable-next-line:component-selector\n  selector: 'inner-popup',\n  exportAs: 'innerPopup',\n  template: `\n    <div [class.ant-picker-datetime-panel]=\"showTimePicker\">\n      <div class=\"{{ prefixCls }}-{{ panelMode }}-panel\">\n        <ng-container [ngSwitch]=\"panelMode\">\n          <ng-container *ngSwitchCase=\"'decade'\">\n            <decade-header\n              [(value)]=\"activeDate\"\n              [locale]=\"locale!\"\n              [showSuperPreBtn]=\"enablePrevNext('prev', 'decade')\"\n              [showSuperNextBtn]=\"enablePrevNext('next', 'decade')\"\n              [showNextBtn]=\"false\"\n              [showPreBtn]=\"false\"\n              (panelModeChange)=\"panelModeChange.emit($event)\"\n              (valueChange)=\"headerChange.emit($event)\"\n            >\n            </decade-header>\n            <div class=\"{{ prefixCls }}-body\">\n              <decade-table\n                [showWeek]=\"showWeek\"\n                [activeDate]=\"activeDate\"\n                [value]=\"value\"\n                (valueChange)=\"onChooseDecade($event)\"\n                [disabledDate]=\"disabledDate\"\n              ></decade-table>\n            </div>\n          </ng-container>\n          <ng-container *ngSwitchCase=\"'year'\">\n            <year-header\n              [(value)]=\"activeDate\"\n              [locale]=\"locale!\"\n              [showSuperPreBtn]=\"enablePrevNext('prev', 'year')\"\n              [showSuperNextBtn]=\"enablePrevNext('next', 'year')\"\n              [showNextBtn]=\"false\"\n              [showPreBtn]=\"false\"\n              (panelModeChange)=\"panelModeChange.emit($event)\"\n              (valueChange)=\"headerChange.emit($event)\"\n            >\n            </year-header>\n            <div class=\"{{ prefixCls }}-body\">\n              <year-table\n                [showWeek]=\"showWeek\"\n                [activeDate]=\"activeDate\"\n                [value]=\"value\"\n                (valueChange)=\"onChooseYear($event)\"\n                [disabledDate]=\"disabledDate\"\n              ></year-table>\n            </div>\n          </ng-container>\n          <ng-container *ngSwitchCase=\"'month'\">\n            <month-header\n              [(value)]=\"activeDate\"\n              [locale]=\"locale!\"\n              [showNextBtn]=\"false\"\n              [showPreBtn]=\"false\"\n              (panelModeChange)=\"panelModeChange.emit($event)\"\n              (valueChange)=\"headerChange.emit($event)\"\n            >\n            </month-header>\n            <div class=\"{{ prefixCls }}-body\">\n              <month-table\n                [showWeek]=\"showWeek\"\n                [value]=\"value\"\n                [activeDate]=\"activeDate\"\n                [disabledDate]=\"disabledDate\"\n                (valueChange)=\"onChooseMonth($event)\"\n              ></month-table>\n            </div>\n          </ng-container>\n\n          <ng-container *ngSwitchDefault>\n            <date-header\n              [(value)]=\"activeDate\"\n              [locale]=\"locale!\"\n              [showSuperPreBtn]=\"enablePrevNext('prev', 'date')\"\n              [showSuperNextBtn]=\"enablePrevNext('next', 'date')\"\n              [showPreBtn]=\"enablePrevNext('prev', 'date')\"\n              [showNextBtn]=\"enablePrevNext('next', 'date')\"\n              (panelModeChange)=\"panelModeChange.emit($event)\"\n              (valueChange)=\"headerChange.emit($event)\"\n            >\n            </date-header>\n            <div class=\"{{ prefixCls }}-body\">\n              <date-table\n                [locale]=\"locale!\"\n                [showWeek]=\"showWeek\"\n                [value]=\"value\"\n                [activeDate]=\"activeDate\"\n                (valueChange)=\"onSelectDate($event)\"\n                [disabledDate]=\"disabledDate\"\n                [cellRender]=\"dateRender\"\n                [selectedValue]=\"selectedValue\"\n                [hoverValue]=\"hoverValue\"\n                (dayHover)=\"dayHover.emit($event)\"\n              ></date-table>\n            </div>\n          </ng-container>\n        </ng-container>\n      </div>\n      <ng-container *ngIf=\"showTimePicker && timeOptions\">\n        <nz-time-picker-panel\n          [nzInDatePicker]=\"true\"\n          [ngModel]=\"value?.nativeDate\"\n          (ngModelChange)=\"onSelectTime($event)\"\n          [format]=\"$any(timeOptions.nzFormat)\"\n          [nzHourStep]=\"$any(timeOptions.nzHourStep)\"\n          [nzMinuteStep]=\"$any(timeOptions.nzMinuteStep)\"\n          [nzSecondStep]=\"$any(timeOptions.nzSecondStep)\"\n          [nzDisabledHours]=\"$any(timeOptions.nzDisabledHours)\"\n          [nzDisabledMinutes]=\"$any(timeOptions.nzDisabledMinutes)\"\n          [nzDisabledSeconds]=\"$any(timeOptions.nzDisabledSeconds)\"\n          [nzHideDisabledOptions]=\"!!timeOptions.nzHideDisabledOptions\"\n          [nzDefaultOpenValue]=\"$any(timeOptions.nzDefaultOpenValue)\"\n          [nzUse12Hours]=\"!!timeOptions.nzUse12Hours\"\n          [nzAddOn]=\"$any(timeOptions.nzAddOn)\"\n        ></nz-time-picker-panel>\n        <!-- use [opened] to trigger time panel \\`initPosition()\\` -->\n      </ng-container>\n    </div>\n  `\n})\nexport class InnerPopupComponent implements OnChanges {\n  @Input() activeDate!: CandyDate;\n  @Input() endPanelMode!: NzDateMode;\n  @Input() panelMode!: NzDateMode;\n  @Input() showWeek!: boolean;\n  @Input() locale!: NzCalendarI18nInterface;\n  @Input() showTimePicker!: boolean;\n  @Input() timeOptions!: SupportTimeOptions | null;\n  @Input() disabledDate?: DisabledDateFn;\n  @Input() dateRender?: string | TemplateRef<Date> | FunctionProp<TemplateRef<Date> | string>;\n  @Input() selectedValue!: CandyDate[]; // Range ONLY\n  @Input() hoverValue!: CandyDate[]; // Range ONLY\n  @Input() value!: CandyDate;\n  @Input() partType!: RangePartType;\n\n  @Output() readonly panelModeChange = new EventEmitter<NzDateMode>();\n\n  // TODO: name is not proper\n  @Output() readonly headerChange = new EventEmitter<CandyDate>(); // Emitted when user changed the header's value\n  @Output() readonly selectDate = new EventEmitter<CandyDate>(); // Emitted when the date is selected by click the date panel\n  @Output() readonly selectTime = new EventEmitter<CandyDate>();\n  @Output() readonly dayHover = new EventEmitter<CandyDate>(); // Emitted when hover on a day by mouse enter\n\n  prefixCls: string = PREFIX_CLASS;\n\n  /**\n   * Hide \"next\" arrow in left panel,\n   * hide \"prev\" arrow in right panel\n   * @param direction\n   * @param panelMode\n   */\n  enablePrevNext(direction: 'prev' | 'next', panelMode: NzDateMode): boolean {\n    if (\n      !this.showTimePicker &&\n      panelMode === this.endPanelMode &&\n      ((this.partType === 'left' && direction === 'next') || (this.partType === 'right' && direction === 'prev'))\n    ) {\n      return false;\n    }\n    return true;\n  }\n\n  onSelectTime(date: Date): void {\n    this.selectTime.emit(new CandyDate(date));\n  }\n\n  // The value real changed to outside\n  onSelectDate(date: CandyDate | Date): void {\n    const value = date instanceof CandyDate ? date : new CandyDate(date);\n    const timeValue = this.timeOptions && this.timeOptions.nzDefaultOpenValue;\n\n    // Display timeValue when value is null\n    if (!this.value && timeValue) {\n      value.setHms(timeValue.getHours(), timeValue.getMinutes(), timeValue.getSeconds());\n    }\n\n    this.selectDate.emit(value);\n  }\n\n  onChooseMonth(value: CandyDate): void {\n    this.activeDate = this.activeDate.setMonth(value.getMonth());\n    if (this.endPanelMode === 'month') {\n      this.value = value;\n      this.selectDate.emit(value);\n    } else {\n      this.headerChange.emit(value);\n      this.panelModeChange.emit(this.endPanelMode);\n    }\n  }\n\n  onChooseYear(value: CandyDate): void {\n    this.activeDate = this.activeDate.setYear(value.getYear());\n    if (this.endPanelMode === 'year') {\n      this.value = value;\n      this.selectDate.emit(value);\n    } else {\n      this.headerChange.emit(value);\n      this.panelModeChange.emit(this.endPanelMode);\n    }\n  }\n\n  onChooseDecade(value: CandyDate): void {\n    this.activeDate = this.activeDate.setYear(value.getYear());\n    if (this.endPanelMode === 'decade') {\n      this.value = value;\n      this.selectDate.emit(value);\n    } else {\n      this.headerChange.emit(value);\n      this.panelModeChange.emit('year');\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.activeDate && !changes.activeDate.currentValue) {\n      this.activeDate = new CandyDate();\n    }\n    // New Antd vesion has merged 'date' ant 'time' to one panel,\n    // So there is not 'time' panel\n    if (changes.panelMode && changes.panelMode.currentValue === 'time') {\n      this.panelMode = 'date';\n    }\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { Directive, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\nimport { CandyDate } from 'ng-zorro-antd/core/time';\nimport { NzCalendarI18nInterface } from 'ng-zorro-antd/i18n';\nimport { NzDateMode } from '../standard-types';\nimport { PanelSelector } from './interface';\n\n@Directive()\n// tslint:disable-next-line:directive-class-suffix\nexport abstract class AbstractPanelHeader implements OnInit, OnChanges {\n  prefixCls: string = `ant-picker-header`;\n  selectors: PanelSelector[] = [];\n\n  @Input() value!: CandyDate;\n  @Input() locale!: NzCalendarI18nInterface;\n  @Input() showSuperPreBtn: boolean = true;\n  @Input() showSuperNextBtn: boolean = true;\n  @Input() showPreBtn: boolean = true;\n  @Input() showNextBtn: boolean = true;\n\n  @Output() readonly panelModeChange = new EventEmitter<NzDateMode>();\n  @Output() readonly valueChange = new EventEmitter<CandyDate>();\n\n  abstract getSelectors(): PanelSelector[];\n\n  superPreviousTitle(): string {\n    return this.locale.previousYear;\n  }\n\n  previousTitle(): string {\n    return this.locale.previousMonth;\n  }\n\n  superNextTitle(): string {\n    return this.locale.nextYear;\n  }\n\n  nextTitle(): string {\n    return this.locale.nextMonth;\n  }\n\n  superPrevious(): void {\n    this.changeValue(this.value.addYears(-1));\n  }\n\n  superNext(): void {\n    this.changeValue(this.value.addYears(1));\n  }\n\n  previous(): void {\n    this.changeValue(this.value.addMonths(-1));\n  }\n\n  next(): void {\n    this.changeValue(this.value.addMonths(1));\n  }\n\n  changeValue(value: CandyDate): void {\n    if (this.value !== value) {\n      this.value = value;\n      this.valueChange.emit(this.value);\n      this.render();\n    }\n  }\n\n  changeMode(mode: NzDateMode): void {\n    this.panelModeChange.emit(mode);\n  }\n\n  private render(): void {\n    if (this.value) {\n      this.selectors = this.getSelectors();\n    }\n  }\n\n  ngOnInit(): void {\n    if (!this.value) {\n      this.value = new CandyDate(); // Show today by default\n    }\n    this.selectors = this.getSelectors();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.value || changes.locale) {\n      this.render();\n    }\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\n\nimport { DateHelperService } from 'ng-zorro-antd/i18n';\nimport { AbstractPanelHeader } from './abstract-panel-header';\nimport { PanelSelector } from './interface';\nimport { transCompatFormat } from './util';\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'date-header', // tslint:disable-line:component-selector\n  exportAs: 'dateHeader',\n  templateUrl: './abstract-panel-header.html'\n})\nexport class DateHeaderComponent extends AbstractPanelHeader {\n  constructor(private dateHelper: DateHelperService) {\n    super();\n  }\n\n  getSelectors(): PanelSelector[] {\n    return [\n      {\n        className: `${this.prefixCls}-year-btn`,\n        title: this.locale.yearSelect,\n        onClick: () => this.changeMode('year'),\n        label: this.dateHelper.format(this.value.nativeDate, transCompatFormat(this.locale.yearFormat))\n      },\n      {\n        className: `${this.prefixCls}-month-btn`,\n        title: this.locale.monthSelect,\n        onClick: () => this.changeMode('month'),\n        label: this.dateHelper.format(this.value.nativeDate, this.locale.monthFormat || 'MMM')\n      }\n    ];\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { Directive, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges, TemplateRef } from '@angular/core';\nimport { CandyDate } from 'ng-zorro-antd/core/time';\nimport { FunctionProp, NzSafeAny } from 'ng-zorro-antd/core/types';\nimport { isNonEmptyString, isTemplateRef } from 'ng-zorro-antd/core/util';\nimport { DateBodyRow, DateCell } from './interface';\n\n@Directive()\n// tslint:disable-next-line:directive-class-suffix\nexport abstract class AbstractTable implements OnInit, OnChanges {\n  isTemplateRef = isTemplateRef;\n  isNonEmptyString = isNonEmptyString;\n  headRow: DateCell[] = [];\n  bodyRows: DateBodyRow[] = [];\n  MAX_ROW = 6;\n  MAX_COL = 7;\n\n  @Input() prefixCls: string = 'ant-picker';\n  @Input() value!: CandyDate;\n  @Input() activeDate: CandyDate = new CandyDate();\n  @Input() showWeek: boolean = false;\n  @Input() disabledDate?: (d: Date) => boolean;\n  @Input() cellRender?: string | TemplateRef<Date> | FunctionProp<TemplateRef<Date> | string>;\n  @Input() fullCellRender?: string | TemplateRef<Date> | FunctionProp<TemplateRef<Date> | string>;\n\n  @Output() readonly valueChange = new EventEmitter<CandyDate>();\n\n  protected render(): void {\n    if (this.activeDate) {\n      this.headRow = this.makeHeadRow();\n      this.bodyRows = this.makeBodyRows();\n    }\n  }\n\n  trackByBodyRow(_index: number, item: DateBodyRow): NzSafeAny {\n    return item;\n  }\n\n  // Item usually is an object, so trackby has no use by default.\n  trackByBodyColumn(_index: number, item: DateCell): NzSafeAny {\n    return item;\n  }\n\n  abstract makeHeadRow(): DateCell[];\n  abstract makeBodyRows(): DateBodyRow[];\n\n  ngOnInit(): void {\n    this.render();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.activeDate && !changes.activeDate.currentValue) {\n      this.activeDate = new CandyDate();\n    }\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChange,\n  SimpleChanges,\n  ViewEncapsulation\n} from '@angular/core';\nimport { CandyDate } from 'ng-zorro-antd/core/time';\nimport { valueFunctionProp } from 'ng-zorro-antd/core/util';\n\nimport { DateHelperService, NzCalendarI18nInterface, NzI18nService } from 'ng-zorro-antd/i18n';\nimport { AbstractTable } from './abstract-table';\nimport { DateBodyRow, DateCell, DayCell } from './interface';\nimport { transCompatFormat } from './util';\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  // tslint:disable-next-line:component-selector\n  selector: 'date-table',\n  exportAs: 'dateTable',\n  templateUrl: './abstract-table.html'\n})\nexport class DateTableComponent extends AbstractTable implements OnChanges, OnInit {\n  @Input() locale!: NzCalendarI18nInterface;\n  @Input() selectedValue: CandyDate[] = []; // Range ONLY\n  @Input() hoverValue: CandyDate[] = []; // Range ONLY\n\n  @Output() readonly dayHover = new EventEmitter<CandyDate>(); // Emitted when hover on a day by mouse enter\n\n  constructor(private i18n: NzI18nService, private dateHelper: DateHelperService) {\n    super();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    super.ngOnChanges(changes);\n    if (\n      this.isDateRealChange(changes.activeDate) ||\n      this.isDateRealChange(changes.value) ||\n      this.isDateRealChange(changes.selectedValue) ||\n      this.isDateRealChange(changes.hoverValue)\n    ) {\n      this.render();\n    }\n  }\n\n  private isDateRealChange(change: SimpleChange): boolean {\n    if (change) {\n      const previousValue: CandyDate | CandyDate[] = change.previousValue;\n      const currentValue: CandyDate | CandyDate[] = change.currentValue;\n      if (Array.isArray(currentValue)) {\n        return (\n          !Array.isArray(previousValue) ||\n          currentValue.length !== previousValue.length ||\n          currentValue.some((value, index) => {\n            const previousCandyDate = previousValue[index];\n            return previousCandyDate instanceof CandyDate ? previousCandyDate.isSameDay(value) : previousCandyDate !== value;\n          })\n        );\n      } else {\n        return !this.isSameDate(previousValue as CandyDate, currentValue);\n      }\n    }\n    return false;\n  }\n\n  private isSameDate(left: CandyDate, right: CandyDate): boolean {\n    return (!left && !right) || (left && right && right.isSameDay(left));\n  }\n\n  private changeValueFromInside(value: CandyDate): void {\n    // Only change date not change time\n    this.activeDate = this.activeDate.setYear(value.getYear()).setMonth(value.getMonth()).setDate(value.getDate());\n    this.valueChange.emit(this.activeDate);\n\n    if (!this.activeDate.isSameMonth(this.value)) {\n      this.render();\n    }\n  }\n\n  makeHeadRow(): DayCell[] {\n    const weekDays: DayCell[] = [];\n    const start = this.activeDate.calendarStart({ weekStartsOn: this.dateHelper.getFirstDayOfWeek() });\n    for (let colIndex = 0; colIndex < this.MAX_COL; colIndex++) {\n      const day = start.addDays(colIndex);\n      weekDays.push({\n        value: day.nativeDate,\n        title: this.dateHelper.format(day.nativeDate, 'E'), // eg. Tue\n        content: this.dateHelper.format(day.nativeDate, this.getVeryShortWeekFormat()), // eg. Tu,\n        isSelected: false,\n        isDisabled: false,\n        onClick(): void {},\n        onMouseEnter(): void {}\n      });\n    }\n    return weekDays;\n  }\n\n  private getVeryShortWeekFormat(): string {\n    return this.i18n.getLocaleId().toLowerCase().indexOf('zh') === 0 ? 'EEEEE' : 'EEEEEE'; // Use extreme short for chinese\n  }\n\n  makeBodyRows(): DateBodyRow[] {\n    const weekRows: DateBodyRow[] = [];\n    const firstDayOfMonth = this.activeDate.calendarStart({ weekStartsOn: this.dateHelper.getFirstDayOfWeek() });\n\n    for (let week = 0; week < this.MAX_ROW; week++) {\n      const weekStart = firstDayOfMonth.addDays(week * 7);\n      const row: DateBodyRow = {\n        isActive: false,\n        isCurrent: false,\n        dateCells: [],\n        year: weekStart.getYear()\n      };\n\n      for (let day = 0; day < 7; day++) {\n        const date = weekStart.addDays(day);\n        const dateFormat = transCompatFormat(this.i18n.getLocaleData('DatePicker.lang.dateFormat', 'YYYY-MM-DD'));\n        const title = this.dateHelper.format(date.nativeDate, dateFormat);\n        const label = this.dateHelper.format(date.nativeDate, 'dd');\n\n        const cell: DayCell = {\n          value: date.nativeDate,\n          label: label,\n          isSelected: false,\n          isDisabled: false,\n          isToday: false,\n          title: title,\n          cellRender: valueFunctionProp(this.cellRender!, date), // Customized content\n          fullCellRender: valueFunctionProp(this.fullCellRender!, date),\n          content: `${date.getDate()}`,\n          onClick: () => this.changeValueFromInside(date),\n          onMouseEnter: () => this.dayHover.emit(date)\n        };\n\n        if (this.showWeek && !row.weekNum) {\n          row.weekNum = this.dateHelper.getISOWeek(date.nativeDate);\n        }\n\n        if (date.isToday()) {\n          cell.isToday = true;\n          row.isCurrent = true;\n        }\n\n        if (\n          ((Array.isArray(this.selectedValue) && this.selectedValue.length > 0) || (this.hoverValue && this.hoverValue.length > 0)) &&\n          date.isSameMonth(this.activeDate)\n        ) {\n          const [startHover, endHover] = this.hoverValue;\n          const [startSelected, endSelected] = this.selectedValue;\n\n          // Selected\n          if (startSelected && startSelected.isSameDay(date)) {\n            cell.isSelectedStartDate = true;\n            cell.isSelected = true;\n            row.isActive = true;\n          }\n          if (endSelected && endSelected.isSameDay(date)) {\n            cell.isSelectedEndDate = true;\n            cell.isSelected = true;\n            row.isActive = true;\n          } else if (date.isAfterDay(startSelected) && date.isBeforeDay(endSelected)) {\n            cell.isInSelectedRange = true;\n          }\n\n          if (startHover && endHover) {\n            // Hover\n            if (startHover.isSameDay(date)) {\n              cell.isHoverStartDate = true;\n            }\n            if (endHover.isSameDay(date)) {\n              cell.isHoverEndDate = true;\n            }\n            if (date.isLastDayOfMonth()) {\n              cell.isLastDayOfMonth = true;\n            }\n            if (date.isFirstDayOfMonth()) {\n              cell.isFirstDayOfMonth = true;\n            }\n          }\n\n          if (startSelected && !endSelected) {\n            cell.isStartSingle = true;\n          }\n\n          if (!startSelected && endSelected) {\n            cell.isEndSingle = true;\n          }\n\n          if (date.isAfterDay(startHover) && date.isBeforeDay(endHover)) {\n            cell.isInHoverRange = true;\n          }\n        } else if (date.isSameDay(this.value)) {\n          cell.isSelected = true;\n          row.isActive = true;\n        }\n\n        if (this.disabledDate?.(date.nativeDate)) {\n          cell.isDisabled = true;\n        }\n\n        cell.classMap = this.getClassMap(cell);\n\n        row.dateCells.push(cell);\n      }\n\n      row.classMap = {\n        [`${this.prefixCls}-week-panel-row`]: this.showWeek,\n        [`${this.prefixCls}-week-panel-row-selected`]: this.showWeek && row.isActive\n      };\n\n      weekRows.push(row);\n    }\n\n    return weekRows;\n  }\n\n  getClassMap(cell: DayCell): { [key: string]: boolean } {\n    const date = new CandyDate(cell.value);\n    return {\n      [`ant-picker-cell`]: true,\n      [`ant-picker-cell-today`]: !!cell.isToday,\n      [`ant-picker-cell-in-view`]: date.isSameMonth(this.activeDate),\n      [`ant-picker-cell-selected`]: cell.isSelected,\n      [`ant-picker-cell-disabled`]: cell.isDisabled,\n      [`ant-picker-cell-in-range`]: !!cell.isInSelectedRange,\n      [`ant-picker-cell-range-start`]: !!cell.isSelectedStartDate,\n      [`ant-picker-cell-range-end`]: !!cell.isSelectedEndDate,\n      [`ant-picker-cell-range-start-single`]: !!cell.isStartSingle,\n      [`ant-picker-cell-range-end-single`]: !!cell.isEndSingle,\n      [`ant-picker-cell-range-hover`]: !!cell.isInHoverRange,\n      [`ant-picker-cell-range-hover-start`]: !!cell.isHoverStartDate,\n      [`ant-picker-cell-range-hover-end`]: !!cell.isHoverEndDate,\n      [`ant-picker-cell-range-hover-edge-start`]: !!cell.isFirstDayOfMonth,\n      [`ant-picker-cell-range-hover-edge-end`]: !!cell.isLastDayOfMonth\n    };\n  }\n\n  trackByBodyRow(_index: number, item: DateBodyRow): string {\n    return `${item.year}-${item.weekNum}`;\n  }\n\n  trackByBodyColumn(_index: number, item: DateCell): string {\n    return item.title as string;\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\nimport { AbstractPanelHeader } from './abstract-panel-header';\nimport { PanelSelector } from './interface';\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'decade-header', // tslint:disable-line:component-selector\n  exportAs: 'decadeHeader',\n  templateUrl: './abstract-panel-header.html'\n})\nexport class DecadeHeaderComponent extends AbstractPanelHeader {\n  previous(): void {}\n  next(): void {}\n\n  get startYear(): number {\n    return parseInt(`${this.value.getYear() / 100}`, 10) * 100;\n  }\n\n  get endYear(): number {\n    return this.startYear + 99;\n  }\n\n  superPrevious(): void {\n    this.changeValue(this.value.addYears(-100));\n  }\n\n  superNext(): void {\n    this.changeValue(this.value.addYears(100));\n  }\n\n  getSelectors(): PanelSelector[] {\n    return [\n      {\n        className: `${this.prefixCls}-decade-btn`,\n        title: '',\n        onClick: () => {\n          // noop\n        },\n        label: `${this.startYear}-${this.endYear}`\n      }\n    ];\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { ChangeDetectionStrategy, Component, OnChanges, SimpleChanges, ViewEncapsulation } from '@angular/core';\nimport { AbstractTable } from './abstract-table';\nimport { DateBodyRow, DateCell, DecadeCell } from './interface';\n\nconst MAX_ROW = 4;\nconst MAX_COL = 3;\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  // tslint:disable-next-line:component-selector\n  selector: 'decade-table',\n  exportAs: 'decadeTable',\n  templateUrl: 'abstract-table.html'\n})\nexport class DecadeTableComponent extends AbstractTable implements OnChanges {\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.value || changes.disabledDate || changes.activeDate) {\n      this.render();\n    }\n  }\n\n  get startYear(): number {\n    return parseInt(`${this.activeDate.getYear() / 100}`, 10) * 100;\n  }\n\n  get endYear(): number {\n    return this.startYear + 99;\n  }\n\n  makeHeadRow(): DateCell[] {\n    return [];\n  }\n\n  makeBodyRows(): DateBodyRow[] {\n    const decades: DateBodyRow[] = [];\n    const currentYear = this.value && this.value.getYear();\n    const startYear = this.startYear;\n    const endYear = this.endYear;\n    const previousYear = startYear - 10;\n\n    let index = 0;\n    for (let rowIndex = 0; rowIndex < MAX_ROW; rowIndex++) {\n      const row: DecadeCell[] = [];\n      for (let colIndex = 0; colIndex < MAX_COL; colIndex++) {\n        const start = previousYear + index * 10;\n        const end = previousYear + index * 10 + 9;\n        const content = `${start}-${end}`;\n\n        const cell: DecadeCell = {\n          value: this.activeDate.setYear(start).nativeDate,\n          content,\n          title: content,\n          isDisabled: false,\n          isSelected: currentYear >= start && currentYear <= end,\n          isLowerThanStart: end < startYear,\n          isBiggerThanEnd: start > endYear,\n          classMap: {},\n          onClick(): void {},\n          onMouseEnter(): void {}\n        };\n\n        cell.classMap = this.getClassMap(cell);\n        cell.onClick = () => this.chooseDecade(start);\n        index++;\n        row.push(cell);\n      }\n\n      decades.push({ dateCells: row });\n    }\n    return decades;\n  }\n\n  getClassMap(cell: DecadeCell): { [key: string]: boolean } {\n    return {\n      [`${this.prefixCls}-cell`]: true,\n      [`${this.prefixCls}-cell-in-view`]: !cell.isBiggerThanEnd && !cell.isLowerThanStart,\n      [`${this.prefixCls}-cell-selected`]: cell.isSelected,\n      [`${this.prefixCls}-cell-disabled`]: cell.isDisabled\n    };\n  }\n\n  private chooseDecade(year: number): void {\n    this.value = this.activeDate.setYear(year);\n    this.valueChange.emit(this.value);\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\n\nimport { DateHelperService } from 'ng-zorro-antd/i18n';\nimport { AbstractPanelHeader } from './abstract-panel-header';\nimport { PanelSelector } from './interface';\nimport { transCompatFormat } from './util';\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'month-header', // tslint:disable-line:component-selector\n  exportAs: 'monthHeader',\n  templateUrl: './abstract-panel-header.html'\n})\nexport class MonthHeaderComponent extends AbstractPanelHeader {\n  constructor(private dateHelper: DateHelperService) {\n    super();\n  }\n\n  getSelectors(): PanelSelector[] {\n    return [\n      {\n        className: `${this.prefixCls}-month-btn`,\n        title: this.locale.yearSelect,\n        onClick: () => this.changeMode('year'),\n        label: this.dateHelper.format(this.value.nativeDate, transCompatFormat(this.locale.yearFormat))\n      }\n    ];\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { ChangeDetectionStrategy, Component, OnChanges, SimpleChanges, ViewEncapsulation } from '@angular/core';\nimport { valueFunctionProp } from 'ng-zorro-antd/core/util';\nimport { DateHelperService } from 'ng-zorro-antd/i18n';\nimport { AbstractTable } from './abstract-table';\nimport { DateBodyRow, DateCell, DayCell } from './interface';\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  // tslint:disable-next-line:component-selector\n  selector: 'month-table',\n  exportAs: 'monthTable',\n  templateUrl: 'abstract-table.html'\n})\nexport class MonthTableComponent extends AbstractTable implements OnChanges {\n  MAX_ROW = 4;\n  MAX_COL = 3;\n\n  constructor(private dateHelper: DateHelperService) {\n    super();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    super.ngOnChanges(changes);\n    if (changes.value || changes.disabledDate || changes.activeDate) {\n      this.render();\n    }\n  }\n\n  makeHeadRow(): DateCell[] {\n    return [];\n  }\n\n  makeBodyRows(): DateBodyRow[] {\n    const months: DateBodyRow[] = [];\n    const currentMonth = this.value && this.value.getMonth();\n\n    let monthValue = 0;\n    for (let rowIndex = 0; rowIndex < this.MAX_ROW; rowIndex++) {\n      const row: DateCell[] = [];\n      for (let colIndex = 0; colIndex < this.MAX_COL; colIndex++) {\n        const month = this.activeDate.setMonth(monthValue);\n        const isDisabled = this.disabledDate ? this.disabledDate(month.nativeDate) : false;\n        const content = this.dateHelper.format(month.nativeDate, 'MMM');\n\n        const cell: DateCell = {\n          value: month.nativeDate,\n          isDisabled,\n          isSelected: monthValue === currentMonth,\n          content,\n          title: content,\n          classMap: {},\n          cellRender: valueFunctionProp(this.cellRender!, month), // Customized content\n          fullCellRender: valueFunctionProp(this.fullCellRender!, month),\n          onClick: () => this.chooseMonth(cell.value.getMonth()), // don't use monthValue here,\n          onMouseEnter: () => null\n        };\n\n        cell.classMap = this.getClassMap(cell);\n\n        row.push(cell);\n        monthValue++;\n      }\n      months.push({ dateCells: row });\n    }\n    return months;\n  }\n\n  getClassMap(cell: DayCell): { [key: string]: boolean } {\n    return {\n      [`ant-picker-cell`]: true,\n      [`ant-picker-cell-in-view`]: true,\n      [`ant-picker-cell-selected`]: cell.isSelected,\n      [`ant-picker-cell-disabled`]: cell.isDisabled\n    };\n  }\n\n  private chooseMonth(month: number): void {\n    this.value = this.activeDate.setMonth(month);\n    this.valueChange.emit(this.value);\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\nimport { AbstractPanelHeader } from './abstract-panel-header';\nimport { PanelSelector } from './interface';\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'year-header', // tslint:disable-line:component-selector\n  exportAs: 'yearHeader',\n  templateUrl: './abstract-panel-header.html'\n})\nexport class YearHeaderComponent extends AbstractPanelHeader {\n  get startYear(): number {\n    return parseInt(`${this.value.getYear() / 10}`, 10) * 10;\n  }\n\n  get endYear(): number {\n    return this.startYear + 9;\n  }\n\n  superPrevious(): void {\n    this.changeValue(this.value.addYears(-10));\n  }\n\n  superNext(): void {\n    this.changeValue(this.value.addYears(10));\n  }\n\n  getSelectors(): PanelSelector[] {\n    return [\n      {\n        className: `${this.prefixCls}-year-btn`,\n        title: '',\n        onClick: () => this.changeMode('decade'),\n        label: `${this.startYear}-${this.endYear}`\n      }\n    ];\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { ChangeDetectionStrategy, Component, OnChanges, SimpleChanges, ViewEncapsulation } from '@angular/core';\nimport { valueFunctionProp } from 'ng-zorro-antd/core/util';\nimport { DateHelperService } from 'ng-zorro-antd/i18n';\nimport { AbstractTable } from './abstract-table';\nimport { DateBodyRow, DateCell, YearCell } from './interface';\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  // tslint:disable-next-line:component-selector\n  selector: 'year-table',\n  exportAs: 'yearTable',\n  templateUrl: 'abstract-table.html'\n})\nexport class YearTableComponent extends AbstractTable implements OnChanges {\n  MAX_ROW = 4;\n  MAX_COL = 3;\n\n  constructor(private dateHelper: DateHelperService) {\n    super();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    super.ngOnChanges(changes);\n    if (changes.value || changes.disabledDate || changes.activeDate) {\n      this.render();\n    }\n  }\n\n  makeHeadRow(): DateCell[] {\n    return [];\n  }\n\n  makeBodyRows(): DateBodyRow[] {\n    const currentYear = this.activeDate && this.activeDate.getYear();\n    const startYear = parseInt(`${currentYear / 10}`, 10) * 10;\n    const endYear = startYear + 9;\n    const previousYear = startYear - 1;\n\n    const years: DateBodyRow[] = [];\n\n    let yearValue = 0;\n    for (let rowIndex = 0; rowIndex < this.MAX_ROW; rowIndex++) {\n      const row: DateCell[] = [];\n      for (let colIndex = 0; colIndex < this.MAX_COL; colIndex++) {\n        const yearNum = previousYear + yearValue;\n        const year = this.activeDate.setYear(yearNum);\n        const content = this.dateHelper.format(year.nativeDate, 'yyyy');\n        const isDisabled = this.disabledDate ? this.disabledDate(year.nativeDate) : false;\n\n        const cell: YearCell = {\n          value: year.nativeDate,\n          isDisabled,\n          isSameDecade: yearNum >= startYear && yearNum <= endYear,\n          isSelected: yearNum === (this.value && this.value.getYear()),\n          content,\n          title: content,\n          classMap: {},\n          cellRender: valueFunctionProp(this.cellRender!, year), // Customized content\n          fullCellRender: valueFunctionProp(this.fullCellRender!, year),\n          onClick: () => this.chooseYear(cell.value.getFullYear()), // don't use yearValue here,\n          onMouseEnter: () => null\n        };\n\n        cell.classMap = this.getClassMap(cell);\n\n        row.push(cell);\n        yearValue++;\n      }\n      years.push({ dateCells: row });\n    }\n    return years;\n  }\n\n  getClassMap(cell: YearCell): { [key: string]: boolean } {\n    return {\n      [`${this.prefixCls}-cell`]: true,\n      [`${this.prefixCls}-cell-in-view`]: !!cell.isSameDecade,\n      [`${this.prefixCls}-cell-selected`]: cell.isSelected,\n      [`${this.prefixCls}-cell-disabled`]: cell.isDisabled\n    };\n  }\n\n  private chooseYear(year: number): void {\n    this.value = this.activeDate.setYear(year);\n    this.valueChange.emit(this.value);\n    this.render();\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * A collection module of standard output for all lib components\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { NzOutletModule } from 'ng-zorro-antd/core/outlet';\n\nimport { NzI18nModule } from 'ng-zorro-antd/i18n';\nimport { NzTimePickerModule } from 'ng-zorro-antd/time-picker';\nimport { DateHeaderComponent } from './date-header.component';\nimport { DateTableComponent } from './date-table.component';\nimport { DecadeHeaderComponent } from './decade-header.component';\nimport { DecadeTableComponent } from './decade-table.component';\nimport { MonthHeaderComponent } from './month-header.component';\nimport { MonthTableComponent } from './month-table.component';\nimport { YearHeaderComponent } from './year-header.component';\nimport { YearTableComponent } from './year-table.component';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, NzI18nModule, NzTimePickerModule, NzOutletModule],\n  exports: [\n    DateHeaderComponent,\n    DateTableComponent,\n    DecadeHeaderComponent,\n    DecadeTableComponent,\n    MonthHeaderComponent,\n    MonthTableComponent,\n    YearHeaderComponent,\n    YearTableComponent\n  ],\n  declarations: [\n    DateHeaderComponent,\n    DateTableComponent,\n    DecadeHeaderComponent,\n    DecadeTableComponent,\n    MonthHeaderComponent,\n    MonthTableComponent,\n    YearHeaderComponent,\n    YearTableComponent\n  ]\n})\nexport class LibPackerModule {}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { Directive, Host, Optional } from '@angular/core';\nimport { NzDatePickerComponent } from './date-picker.component';\n\n@Directive({\n  selector: 'nz-month-picker',\n  exportAs: 'nzMonthPicker'\n})\n// tslint:disable-next-line:directive-class-suffix\nexport class NzMonthPickerComponent {\n  constructor(@Optional() @Host() public datePicker: NzDatePickerComponent) {\n    this.datePicker.nzMode = 'month';\n    this.datePicker.nzFormat = 'yyyy-MM';\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { Directive, Host, Optional } from '@angular/core';\nimport { NzDatePickerComponent } from './date-picker.component';\n\n@Directive({\n  selector: 'nz-range-picker',\n  exportAs: 'nzRangePicker'\n})\n// tslint:disable-next-line:directive-class-suffix\nexport class NzRangePickerComponent {\n  constructor(@Optional() @Host() public datePicker: NzDatePickerComponent) {\n    this.datePicker.isRange = true;\n    this.datePicker.nzMode = ['date', 'date'];\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { Directive, Host, Optional } from '@angular/core';\nimport { NzDatePickerComponent } from './date-picker.component';\n\n@Directive({\n  selector: 'nz-week-picker',\n  exportAs: 'nzWeekPicker'\n})\n// tslint:disable-next-line:directive-class-suffix\nexport class NzWeekPickerComponent {\n  constructor(@Optional() @Host() public datePicker: NzDatePickerComponent) {\n    this.datePicker.showWeek = true;\n    this.datePicker.nzMode = 'week';\n    this.datePicker.nzFormat = 'yyyy-ww';\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { Directive, Host, Optional } from '@angular/core';\nimport { NzDatePickerComponent } from './date-picker.component';\n\n@Directive({\n  selector: 'nz-year-picker',\n  exportAs: 'nzYearPicker'\n})\n// tslint:disable-next-line:directive-class-suffix\nexport class NzYearPickerComponent {\n  constructor(@Optional() @Host() public datePicker: NzDatePickerComponent) {\n    this.datePicker.nzMode = 'year';\n    this.datePicker.nzFormat = 'yyyy';\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { OverlayModule } from '@angular/cdk/overlay';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { NzButtonModule } from 'ng-zorro-antd/button';\n\nimport { NzNoAnimationModule } from 'ng-zorro-antd/core/no-animation';\nimport { NzOutletModule } from 'ng-zorro-antd/core/outlet';\nimport { NzOverlayModule } from 'ng-zorro-antd/core/overlay';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { NzTimePickerModule } from 'ng-zorro-antd/time-picker';\nimport { CalendarFooterComponent } from './calendar-footer.component';\n\nimport { NzDatePickerComponent } from './date-picker.component';\nimport { DateRangePopupComponent } from './date-range-popup.component';\nimport { InnerPopupComponent } from './inner-popup.component';\n\nimport { LibPackerModule } from './lib/lib-packer.module';\nimport { NzMonthPickerComponent } from './month-picker.component';\nimport { NzPickerComponent } from './picker.component';\nimport { NzRangePickerComponent } from './range-picker.component';\nimport { NzWeekPickerComponent } from './week-picker.component';\nimport { NzYearPickerComponent } from './year-picker.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    OverlayModule,\n    LibPackerModule,\n    NzIconModule,\n    NzOverlayModule,\n    NzNoAnimationModule,\n    NzOutletModule,\n    NzTimePickerModule,\n    NzButtonModule,\n    LibPackerModule\n  ],\n  exports: [NzDatePickerComponent, NzRangePickerComponent, NzMonthPickerComponent, NzYearPickerComponent, NzWeekPickerComponent],\n  declarations: [\n    NzPickerComponent,\n    NzDatePickerComponent,\n    NzMonthPickerComponent,\n    NzYearPickerComponent,\n    NzWeekPickerComponent,\n    NzRangePickerComponent,\n\n    CalendarFooterComponent,\n    InnerPopupComponent,\n    DateRangePopupComponent\n  ]\n})\nexport class NzDatePickerModule {}\n"]}