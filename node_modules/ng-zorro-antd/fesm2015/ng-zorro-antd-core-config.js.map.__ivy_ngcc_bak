{"version":3,"file":"ng-zorro-antd-core-config.js","sources":["ng://ng-zorro-antd/core/config/config.ts","ng://ng-zorro-antd/core/config/config.service.ts"],"sourcesContent":["/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { InjectionToken, TemplateRef, Type } from '@angular/core';\n\nimport { SafeUrl } from '@angular/platform-browser';\nimport { NzBreakpointEnum } from 'ng-zorro-antd/core/services';\nimport { NzSafeAny, NzShapeSCType, NzSizeDSType, NzSizeLDSType, NzSizeMDSType } from 'ng-zorro-antd/core/types';\n\nexport interface NzConfig {\n  affix?: AffixConfig;\n  select?: SelectConfig;\n  alert?: AlertConfig;\n  anchor?: AnchorConfig;\n  avatar?: AvatarConfig;\n  backTop?: BackTopConfig;\n  badge?: BadgeConfig;\n  button?: ButtonConfig;\n  card?: CardConfig;\n  carousel?: CarouselConfig;\n  cascader?: CascaderConfig;\n  codeEditor?: CodeEditorConfig;\n  collapse?: CollapseConfig;\n  collapsePanel?: CollapsePanelConfig;\n  datePicker?: DatePickerConfig;\n  descriptions?: DescriptionsConfig;\n  drawer?: DrawerConfig;\n  empty?: EmptyConfig;\n  form?: FormConfig;\n  icon?: IconConfig;\n  message?: MessageConfig;\n  modal?: ModalConfig;\n  notification?: NotificationConfig;\n  pageHeader?: PageHeaderConfig;\n  progress?: ProgressConfig;\n  rate?: RateConfig;\n  space?: SpaceConfig;\n  spin?: SpinConfig;\n  switch?: SwitchConfig;\n  table?: TableConfig;\n  tabs?: TabsConfig;\n  timePicker?: TimePickerConfig;\n  tree?: TreeConfig;\n  treeSelect?: TreeSelectConfig;\n  typography?: TypographyConfig;\n}\n\nexport interface SelectConfig {\n  nzBorderless?: boolean;\n  nzSuffixIcon?: TemplateRef<NzSafeAny> | string | null;\n}\n\nexport interface AffixConfig {\n  nzOffsetBottom?: number;\n  nzOffsetTop?: number;\n}\n\nexport interface AlertConfig {\n  nzCloseable?: boolean;\n  nzShowIcon?: boolean;\n}\n\nexport interface AvatarConfig {\n  nzShape?: NzShapeSCType;\n  nzSize?: NzSizeLDSType | number;\n}\n\nexport interface AnchorConfig {\n  nzBounds?: number;\n  nzOffsetBottom?: number;\n  nzOffsetTop?: number;\n  nzShowInkInFixed?: boolean;\n}\n\nexport interface BackTopConfig {\n  nzVisibilityHeight?: number;\n}\n\nexport interface BadgeConfig {\n  nzColor?: number;\n  nzOverflowCount?: number;\n  nzShowZero?: number;\n}\n\nexport interface ButtonConfig {\n  nzSize?: 'large' | 'default' | 'small';\n}\n\nexport interface CodeEditorConfig {\n  assetsRoot?: string | SafeUrl;\n  defaultEditorOption?: NzSafeAny;\n  useStaticLoading?: boolean;\n\n  onLoad?(): void;\n  onFirstEditorInit?(): void;\n  onInit?(): void;\n}\n\nexport interface CardConfig {\n  nzSize?: NzSizeDSType;\n  nzHoverable?: boolean;\n  nzBordered?: boolean;\n}\n\nexport interface CarouselConfig {\n  nzAutoPlay?: boolean;\n  nzAutoPlaySpeed?: boolean;\n  nzDots?: boolean;\n  nzEffect?: 'scrollx' | 'fade' | string;\n  nzEnableSwipe?: boolean;\n  nzVertical?: boolean;\n}\n\nexport interface CascaderConfig {\n  nzSize?: string;\n}\n\nexport interface CollapseConfig {\n  nzAccordion?: boolean;\n  nzBordered?: boolean;\n}\n\nexport interface CollapsePanelConfig {\n  nzShowArrow?: boolean;\n}\n\nexport interface DatePickerConfig {\n  nzSeparator?: string;\n  nzSuffixIcon?: string | TemplateRef<NzSafeAny>;\n}\n\nexport interface DescriptionsConfig {\n  nzBorder?: boolean;\n  nzColumn?: { [key in NzBreakpointEnum]?: number } | number;\n  nzSize?: 'default' | 'middle' | 'small';\n  nzColon?: boolean;\n}\n\nexport interface DrawerConfig {\n  nzMask?: boolean;\n  nzMaskClosable?: boolean;\n  nzCloseOnNavigation?: boolean;\n}\n\nexport interface EmptyConfig {\n  nzDefaultEmptyContent?: Type<NzSafeAny> | TemplateRef<string> | string | undefined;\n}\n\nexport interface FormConfig {\n  nzNoColon?: boolean;\n  nzAutoTips?: Record<string, Record<string, string>>;\n}\n\nexport interface IconConfig {\n  nzTheme?: 'fill' | 'outline' | 'twotone';\n  nzTwotoneColor?: string;\n}\n\nexport interface MessageConfig {\n  nzAnimate?: boolean;\n  nzDuration?: number;\n  nzMaxStack?: number;\n  nzPauseOnHover?: boolean;\n  nzTop?: number | string;\n}\n\nexport interface ModalConfig {\n  nzMask?: boolean;\n  nzMaskClosable?: boolean;\n  nzCloseOnNavigation?: boolean;\n}\n\nexport interface NotificationConfig extends MessageConfig {\n  nzTop?: string | number;\n  nzBottom?: string | number;\n  nzPlacement?: 'topLeft' | 'topRight' | 'bottomLeft' | 'bottomRight';\n}\n\nexport interface PageHeaderConfig {\n  nzGhost: boolean;\n}\n\nexport interface ProgressConfig {\n  nzGapDegree?: number;\n  nzGapPosition?: 'top' | 'right' | 'bottom' | 'left';\n  nzShowInfo?: boolean;\n  nzStrokeSwitch?: number;\n  nzStrokeWidth?: number;\n  nzSize?: 'default' | 'small';\n  nzStrokeLinecap?: 'round' | 'square';\n  nzStrokeColor?: string;\n}\n\nexport interface RateConfig {\n  nzAllowClear?: boolean;\n  nzAllowHalf?: boolean;\n}\n\nexport interface SpaceConfig {\n  nzSize?: 'small' | 'middle' | 'large' | number;\n}\n\nexport interface SpinConfig {\n  nzIndicator?: TemplateRef<NzSafeAny>;\n}\n\nexport interface SwitchConfig {\n  nzSize: NzSizeDSType;\n}\n\nexport interface TableConfig {\n  nzBordered?: boolean;\n  nzSize?: NzSizeMDSType;\n  nzShowQuickJumper?: boolean;\n  nzLoadingIndicator?: TemplateRef<NzSafeAny>;\n  nzShowSizeChanger?: boolean;\n  nzSimple?: boolean;\n  nzHideOnSinglePage?: boolean;\n}\n\nexport interface TabsConfig {\n  nzAnimated?:\n    | boolean\n    | {\n        inkBar: boolean;\n        tabPane: boolean;\n      };\n  nzSize?: NzSizeLDSType;\n  nzType?: 'line' | 'card';\n  nzTabBarGutter?: number;\n  nzShowPagination?: boolean;\n}\n\nexport interface TimePickerConfig {\n  nzAllowEmpty?: boolean;\n  nzClearText?: string;\n  nzFormat?: string;\n  nzHourStep?: number;\n  nzMinuteStep?: number;\n  nzSecondStep?: number;\n  nzPopupClassName?: string;\n  nzUse12Hours?: string;\n  nzSuffixIcon?: string | TemplateRef<NzSafeAny>;\n}\n\nexport interface TreeConfig {\n  nzBlockNode?: boolean;\n  nzShowIcon?: boolean;\n  nzHideUnMatched?: boolean;\n}\n\nexport interface TreeSelectConfig {\n  nzShowIcon?: string;\n  nzShowLine?: boolean;\n  nzDropdownMatchSelectWidth?: boolean;\n  nzHideUnMatched?: boolean;\n  nzSize?: 'large' | 'small' | 'default';\n}\n\nexport interface TypographyConfig {\n  nzEllipsisRows?: number;\n}\n\nexport type NzConfigKey = keyof NzConfig;\n\n/**\n * User should provide an object implements this interface to set global configurations.\n */\nexport const NZ_CONFIG = new InjectionToken<NzConfig>('nz-config');\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { Inject, Injectable, Optional } from '@angular/core';\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\nimport { Observable, Subject } from 'rxjs';\n\nimport { filter, mapTo } from 'rxjs/operators';\n\nimport { NZ_CONFIG, NzConfig, NzConfigKey } from './config';\n\nconst isDefined = function (value?: NzSafeAny): boolean {\n  return value !== undefined;\n};\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NzConfigService {\n  private configUpdated$ = new Subject<keyof NzConfig>();\n\n  /** Global config holding property. */\n  private config: NzConfig;\n\n  constructor(@Optional() @Inject(NZ_CONFIG) defaultConfig?: NzConfig) {\n    this.config = defaultConfig || {};\n  }\n\n  getConfigForComponent<T extends NzConfigKey>(componentName: T): NzConfig[T] {\n    return this.config[componentName];\n  }\n\n  getConfigChangeEventForComponent(componentName: NzConfigKey): Observable<void> {\n    return this.configUpdated$.pipe(\n      filter(n => n === componentName),\n      mapTo(undefined)\n    );\n  }\n\n  set<T extends NzConfigKey>(componentName: T, value: NzConfig[T]): void {\n    this.config[componentName] = { ...this.config[componentName], ...value };\n    this.configUpdated$.next(componentName);\n  }\n}\n\n// tslint:disable:no-invalid-this\n\n/**\n * This decorator is used to decorate properties. If a property is decorated, it would try to load default value from\n * config.\n */\n// tslint:disable-next-line:typedef\nexport function WithConfig<T>(componentName: NzConfigKey) {\n  return function ConfigDecorator(target: NzSafeAny, propName: NzSafeAny, originalDescriptor?: TypedPropertyDescriptor<T>): NzSafeAny {\n    const privatePropName = `$$__assignedValue__${propName}`;\n\n    Object.defineProperty(target, privatePropName, {\n      configurable: true,\n      writable: true,\n      enumerable: false\n    });\n\n    return {\n      get(): T | undefined {\n        const originalValue = originalDescriptor?.get ? originalDescriptor.get.bind(this)() : this[privatePropName];\n        const assignedByUser = ((this.assignmentCount || {})[propName] || 0) > 1;\n\n        if (assignedByUser && isDefined(originalValue)) {\n          return originalValue;\n        }\n\n        const componentConfig = this.nzConfigService.getConfigForComponent(componentName) || {};\n        const configValue = componentConfig[propName];\n        const ret = isDefined(configValue) ? configValue : originalValue;\n\n        return ret;\n      },\n      set(value?: T): void {\n        // If the value is assigned, we consider the newly assigned value as 'assigned by user'.\n        this.assignmentCount = this.assignmentCount || {};\n        this.assignmentCount[propName] = (this.assignmentCount[propName] || 0) + 1;\n\n        if (originalDescriptor?.set) {\n          originalDescriptor.set.bind(this)(value);\n        } else {\n          this[privatePropName] = value;\n        }\n      },\n      configurable: true,\n      enumerable: true\n    };\n  };\n}\n"],"names":[],"mappings":"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"}