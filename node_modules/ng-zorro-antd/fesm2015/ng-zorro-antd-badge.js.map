{"version":3,"file":"ng-zorro-antd-badge.js","sources":["ng-zorro-antd/badge/preset-colors.ts","ng-zorro-antd/badge/badge.component.ts","ng-zorro-antd/badge/badge.module.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nexport const badgePresetColors: ReadonlyArray<string> = [\n  'pink',\n  'red',\n  'yellow',\n  'orange',\n  'cyan',\n  'green',\n  'blue',\n  'purple',\n  'geekblue',\n  'magenta',\n  'volcano',\n  'gold',\n  'lime'\n];\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { ContentObserver } from '@angular/cdk/observers';\nimport {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  Input,\n  NgZone,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Renderer2,\n  SimpleChanges,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport { zoomBadgeMotion } from 'ng-zorro-antd/core/animation';\nimport { NzConfigService, WithConfig } from 'ng-zorro-antd/core/config';\nimport { BooleanInput, NzSafeAny } from 'ng-zorro-antd/core/types';\nimport { InputBoolean, isEmpty } from 'ng-zorro-antd/core/util';\nimport { Subject } from 'rxjs';\nimport { startWith, take, takeUntil } from 'rxjs/operators';\n\nimport { badgePresetColors } from './preset-colors';\nimport { NzBadgeStatusType } from './types';\n\nconst NZ_CONFIG_COMPONENT_NAME = 'backTop';\n\n@Component({\n  selector: 'nz-badge',\n  exportAs: 'nzBadge',\n  preserveWhitespaces: false,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  animations: [zoomBadgeMotion],\n  template: `\n    <span #contentElement><ng-content></ng-content></span>\n    <span\n      class=\"ant-badge-status-dot ant-badge-status-{{ nzStatus || presetColor }}\"\n      [style.background]=\"!presetColor && nzColor\"\n      *ngIf=\"nzStatus || nzColor\"\n      [ngStyle]=\"nzStyle\"\n    ></span>\n    <span class=\"ant-badge-status-text\" *ngIf=\"nzStatus || nzColor\">{{ nzText }}</span>\n    <ng-container *nzStringTemplateOutlet=\"nzCount\">\n      <sup\n        class=\"ant-scroll-number\"\n        *ngIf=\"showSup && viewInit\"\n        [@.disabled]=\"notWrapper\"\n        [@zoomBadgeMotion]\n        [ngStyle]=\"nzStyle\"\n        [attr.title]=\"nzTitle === null ? '' : nzTitle || nzCount\"\n        [style.right.px]=\"nzOffset && nzOffset[0] ? -nzOffset[0] : null\"\n        [style.marginTop.px]=\"nzOffset && nzOffset[1] ? nzOffset[1] : null\"\n        [class.ant-badge-count]=\"!nzDot\"\n        [class.ant-badge-dot]=\"nzDot\"\n        [class.ant-badge-multiple-words]=\"countArray.length >= 2\"\n      >\n        <ng-container *ngFor=\"let n of maxNumberArray; let i = index\">\n          <span\n            class=\"ant-scroll-number-only\"\n            *ngIf=\"count <= nzOverflowCount\"\n            [style.transform]=\"'translateY(' + -countArray[i] * 100 + '%)'\"\n          >\n            <ng-container *ngIf=\"!nzDot && countArray[i] !== undefined\">\n              <p *ngFor=\"let p of countSingleArray\" class=\"ant-scroll-number-only-unit\" [class.current]=\"p === countArray[i]\">\n                {{ p }}\n              </p>\n            </ng-container>\n          </span>\n        </ng-container>\n        <ng-container *ngIf=\"count > nzOverflowCount\">{{ nzOverflowCount }}+</ng-container>\n      </sup>\n    </ng-container>\n  `,\n  host: {\n    class: 'ant-badge',\n    '[class.ant-badge-status]': 'nzStatus'\n  }\n})\nexport class NzBadgeComponent implements OnInit, AfterViewInit, OnChanges, OnDestroy {\n  static ngAcceptInputType_nzShowZero: BooleanInput;\n  static ngAcceptInputType_nzShowDot: BooleanInput;\n  static ngAcceptInputType_nzDot: BooleanInput;\n\n  private destroy$ = new Subject();\n  notWrapper = true;\n  viewInit = false;\n  maxNumberArray: string[] = [];\n  countArray: number[] = [];\n  countSingleArray = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];\n  presetColor: string | null = null;\n  count: number = 0;\n  @ViewChild('contentElement', { static: false }) contentElement?: ElementRef;\n  @Input() @InputBoolean() nzShowZero: boolean = false;\n  @Input() @InputBoolean() nzShowDot = true;\n  @Input() @InputBoolean() nzDot = false;\n  @Input() @WithConfig(NZ_CONFIG_COMPONENT_NAME) nzOverflowCount: number = 99;\n  @Input() @WithConfig(NZ_CONFIG_COMPONENT_NAME) nzColor?: string = undefined;\n  @Input() nzStyle: { [key: string]: string } | null = null;\n  @Input() nzText?: string;\n  @Input() nzTitle?: string | null | undefined;\n  @Input() nzStatus?: NzBadgeStatusType | string;\n  @Input() nzCount?: number | TemplateRef<NzSafeAny>;\n  @Input() nzOffset?: [number, number];\n\n  checkContent(): void {\n    this.notWrapper = isEmpty(this.contentElement?.nativeElement);\n    if (this.notWrapper) {\n      this.renderer.addClass(this.elementRef.nativeElement, 'ant-badge-not-a-wrapper');\n    } else {\n      this.renderer.removeClass(this.elementRef.nativeElement, 'ant-badge-not-a-wrapper');\n    }\n  }\n\n  get showSup(): boolean {\n    return (this.nzShowDot && this.nzDot) || this.count > 0 || (this.count === 0 && this.nzShowZero);\n  }\n\n  generateMaxNumberArray(): void {\n    this.maxNumberArray = this.nzOverflowCount.toString().split('');\n  }\n\n  constructor(\n    public nzConfigService: NzConfigService,\n    private renderer: Renderer2,\n    private elementRef: ElementRef,\n    private contentObserver: ContentObserver,\n    private cdr: ChangeDetectorRef,\n    private ngZone: NgZone\n  ) {}\n\n  ngOnInit(): void {\n    this.generateMaxNumberArray();\n  }\n\n  ngAfterViewInit(): void {\n    this.ngZone.onStable.pipe(take(1)).subscribe(() => {\n      this.viewInit = true;\n      this.cdr.detectChanges();\n    });\n\n    this.contentObserver\n      .observe(this.contentElement!)\n      .pipe(startWith(true), takeUntil(this.destroy$))\n      .subscribe(() => {\n        this.checkContent();\n      });\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    const { nzOverflowCount, nzCount, nzColor } = changes;\n    if (nzCount && !(nzCount.currentValue instanceof TemplateRef)) {\n      this.count = Math.max(0, nzCount.currentValue);\n      this.countArray = this.count\n        .toString()\n        .split('')\n        .map(item => +item);\n    }\n    if (nzOverflowCount) {\n      this.generateMaxNumberArray();\n    }\n    if (nzColor) {\n      this.presetColor = this.nzColor && badgePresetColors.indexOf(this.nzColor) !== -1 ? this.nzColor : null;\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { ObserversModule } from '@angular/cdk/observers';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NzOutletModule } from 'ng-zorro-antd/core/outlet';\n\nimport { NzBadgeComponent } from './badge.component';\n\n@NgModule({\n  declarations: [NzBadgeComponent],\n  exports: [NzBadgeComponent],\n  imports: [CommonModule, ObserversModule, NzOutletModule]\n})\nexport class NzBadgeModule {}\n"]}