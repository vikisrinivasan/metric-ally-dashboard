/**
 * @fileoverview added by tsickle
 * Generated from: breakpoint.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/**
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE
 */
import { MediaMatcher } from '@angular/cdk/layout';
import { Injectable } from '@angular/core';
import { distinctUntilChanged, map, startWith } from 'rxjs/operators';
import { NzResizeService } from './resize';
import * as i0 from "@angular/core";
import * as i1 from "./resize";
import * as i2 from "@angular/cdk/layout";
/** @enum {string} */
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from './resize';
import * as ɵngcc2 from '@angular/cdk/layout';
const NzBreakpointEnum = {
    xxl: "xxl",
    xl: "xl",
    lg: "lg",
    md: "md",
    sm: "sm",
    xs: "xs",
};
export { NzBreakpointEnum };
/** @type {?} */
export const gridResponsiveMap = {
    xs: '(max-width: 575px)',
    sm: '(min-width: 576px)',
    md: '(min-width: 768px)',
    lg: '(min-width: 992px)',
    xl: '(min-width: 1200px)',
    xxl: '(min-width: 1600px)'
};
/** @type {?} */
export const siderResponsiveMap = {
    xs: '(max-width: 479.98px)',
    sm: '(max-width: 575.98px)',
    md: '(max-width: 767.98px)',
    lg: '(max-width: 991.98px)',
    xl: '(max-width: 1199.98px)',
    xxl: '(max-width: 1599.98px)'
};
export class NzBreakpointService {
    /**
     * @param {?} resizeService
     * @param {?} mediaMatcher
     */
    constructor(resizeService, mediaMatcher) {
        this.resizeService = resizeService;
        this.mediaMatcher = mediaMatcher;
        this.resizeService.subscribe().subscribe((/**
         * @return {?}
         */
        () => { }));
    }
    /**
     * @param {?} breakpointMap
     * @param {?=} fullMap
     * @return {?}
     */
    subscribe(breakpointMap, fullMap) {
        if (fullMap) {
            /** @type {?} */
            const get = (/**
             * @return {?}
             */
            () => this.matchMedia(breakpointMap, true));
            return this.resizeService.subscribe().pipe(map(get), startWith(get()), distinctUntilChanged((/**
             * @param {?} x
             * @param {?} y
             * @return {?}
             */
            (x, y) => x[0] === y[0])), map((/**
             * @param {?} x
             * @return {?}
             */
            x => x[1])));
        }
        else {
            /** @type {?} */
            const get = (/**
             * @return {?}
             */
            () => this.matchMedia(breakpointMap));
            return this.resizeService.subscribe().pipe(map(get), startWith(get()), distinctUntilChanged());
        }
    }
    /**
     * @private
     * @param {?} breakpointMap
     * @param {?=} fullMap
     * @return {?}
     */
    matchMedia(breakpointMap, fullMap) {
        /** @type {?} */
        let bp = NzBreakpointEnum.md;
        /** @type {?} */
        const breakpointBooleanMap = {};
        Object.keys(breakpointMap).map((/**
         * @param {?} breakpoint
         * @return {?}
         */
        breakpoint => {
            /** @type {?} */
            const castBP = (/** @type {?} */ (breakpoint));
            /** @type {?} */
            const matched = this.mediaMatcher.matchMedia(gridResponsiveMap[castBP]).matches;
            breakpointBooleanMap[(/** @type {?} */ (breakpoint))] = matched;
            if (matched) {
                bp = castBP;
            }
        }));
        if (fullMap) {
            return [bp, (/** @type {?} */ (breakpointBooleanMap))];
        }
        else {
            return bp;
        }
    }
}
NzBreakpointService.ɵfac = function NzBreakpointService_Factory(t) { return new (t || NzBreakpointService)(ɵngcc0.ɵɵinject(ɵngcc1.NzResizeService), ɵngcc0.ɵɵinject(ɵngcc2.MediaMatcher)); };
/** @nocollapse */
NzBreakpointService.ctorParameters = () => [
    { type: NzResizeService },
    { type: MediaMatcher }
];
/** @nocollapse */ NzBreakpointService.ɵprov = i0.ɵɵdefineInjectable({ factory: function NzBreakpointService_Factory() { return new NzBreakpointService(i0.ɵɵinject(i1.NzResizeService), i0.ɵɵinject(i2.MediaMatcher)); }, token: NzBreakpointService, providedIn: "root" });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NzBreakpointService, [{
        type: Injectable,
        args: [{
                providedIn: 'root'
            }]
    }], function () { return [{ type: ɵngcc1.NzResizeService }, { type: ɵngcc2.MediaMatcher }]; }, null); })();
if (false) {
    /**
     * @type {?}
     * @private
     */
    NzBreakpointService.prototype.resizeService;
    /**
     * @type {?}
     * @private
     */
    NzBreakpointService.prototype.mediaMatcher;
}

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnJlYWtwb2ludC5qcyIsInNvdXJjZXMiOlsibmctem9ycm8tYW50ZC9jb3JlL3NlcnZpY2VzL2JyZWFrcG9pbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBS0EsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ25ELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFM0MsT0FBTyxFQUFFLG9CQUFvQixFQUFFLEdBQUcsRUFBRSxTQUFTLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUV0RSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sVUFBVSxDQUFDO0FBQzNDO0FBRUs7QUFFSTtBQUlSOzs7O0FBUEQsTUFBWSxnQkFBZ0I7QUFDMUIsSUFBQSxHQUFHLE9BQVE7QUFDYixJQUFFLEVBQUUsTUFBTztBQUNYLElBQUUsRUFBRSxNQUFPO0FBQ1gsSUFBRSxFQUFFLE1BQU87QUFDWCxJQUFFLEVBQUUsTUFBTztBQUNYLElBQUUsRUFBRSxNQUFPO0FBQ1YsRUFBQTtBQUNEO0FBQzRCO0FBSTVCLE1BQU0sT0FBTyxpQkFBaUIsR0FBa0I7QUFDaEQsSUFBRSxFQUFFLEVBQUUsb0JBQW9CO0FBQzFCLElBQUUsRUFBRSxFQUFFLG9CQUFvQjtBQUMxQixJQUFFLEVBQUUsRUFBRSxvQkFBb0I7QUFDMUIsSUFBRSxFQUFFLEVBQUUsb0JBQW9CO0FBQzFCLElBQUUsRUFBRSxFQUFFLHFCQUFxQjtBQUMzQixJQUFFLEdBQUcsRUFBRSxxQkFBcUI7QUFDNUIsQ0FBQztBQUNEO0FBQ0EsTUFBTSxPQUFPLGtCQUFrQixHQUFrQjtBQUNqRCxJQUFFLEVBQUUsRUFBRSx1QkFBdUI7QUFDN0IsSUFBRSxFQUFFLEVBQUUsdUJBQXVCO0FBQzdCLElBQUUsRUFBRSxFQUFFLHVCQUF1QjtBQUM3QixJQUFFLEVBQUUsRUFBRSx1QkFBdUI7QUFDN0IsSUFBRSxFQUFFLEVBQUUsd0JBQXdCO0FBQzlCLElBQUUsR0FBRyxFQUFFLHdC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K0NBakRDLFVBQVUsU0FBQyxrQkFDVixVQUFVLEVBQUUsTUFBTSxjQUNuQix5RUFDSTtBQUFDO0FBQW1CO0FBQ1UsWUFyQzFCLGVBQWU7QUFBSSxZQUxuQixZQUFZO0FBQUc7QUFBRzs7Ozs7OytHQVN6QjtBQUFDO0FBQ0E7QUFBUTtBQUVUO0FBQ0c7QUFDSixJQTRCYSw0Q0FBc0M7QUFBQztBQUFRO0FBQWlCO0FBQzVFO0FBQVEsSUFENEMsMkNBQWtDO0FBQUM7QUFBRSIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9naXRodWIuY29tL05HLVpPUlJPL25nLXpvcnJvLWFudGQvYmxvYi9tYXN0ZXIvTElDRU5TRVxuICovXG5cbmltcG9ydCB7IE1lZGlhTWF0Y2hlciB9IGZyb20gJ0Bhbmd1bGFyL2Nkay9sYXlvdXQnO1xuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgZGlzdGluY3RVbnRpbENoYW5nZWQsIG1hcCwgc3RhcnRXaXRoIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5pbXBvcnQgeyBOelJlc2l6ZVNlcnZpY2UgfSBmcm9tICcuL3Jlc2l6ZSc7XG5cbmV4cG9ydCBlbnVtIE56QnJlYWtwb2ludEVudW0ge1xuICB4eGwgPSAneHhsJyxcbiAgeGwgPSAneGwnLFxuICBsZyA9ICdsZycsXG4gIG1kID0gJ21kJyxcbiAgc20gPSAnc20nLFxuICB4cyA9ICd4cydcbn1cblxuZXhwb3J0IHR5cGUgQnJlYWtwb2ludE1hcCA9IHsgW2tleSBpbiBOekJyZWFrcG9pbnRFbnVtXTogc3RyaW5nIH07XG5leHBvcnQgdHlwZSBCcmVha3BvaW50Qm9vbGVhbk1hcCA9IHsgW2tleSBpbiBOekJyZWFrcG9pbnRFbnVtXTogYm9vbGVhbiB9O1xuZXhwb3J0IHR5cGUgTnpCcmVha3BvaW50S2V5ID0ga2V5b2YgdHlwZW9mIE56QnJlYWtwb2ludEVudW07XG5cbmV4cG9ydCBjb25zdCBncmlkUmVzcG9uc2l2ZU1hcDogQnJlYWtwb2ludE1hcCA9IHtcbiAgeHM6ICcobWF4LXdpZHRoOiA1NzVweCknLFxuICBzbTogJyhtaW4td2lkdGg6IDU3NnB4KScsXG4gIG1kOiAnKG1pbi13aWR0aDogNzY4cHgpJyxcbiAgbGc6ICcobWluLXdpZHRoOiA5OTJweCknLFxuICB4bDogJyhtaW4td2lkdGg6IDEyMDBweCknLFxuICB4eGw6ICcobWluLXdpZHRoOiAxNjAwcHgpJ1xufTtcblxuZXhwb3J0IGNvbnN0IHNpZGVyUmVzcG9uc2l2ZU1hcDogQnJlYWtwb2ludE1hcCA9IHtcbiAgeHM6ICcobWF4LXdpZHRoOiA0NzkuOThweCknLFxuICBzbTogJyhtYXgtd2lkdGg6IDU3NS45OHB4KScsXG4gIG1kOiAnKG1heC13aWR0aDogNzY3Ljk4cHgpJyxcbiAgbGc6ICcobWF4LXdpZHRoOiA5OTEuOThweCknLFxuICB4bDogJyhtYXgtd2lkdGg6IDExOTkuOThweCknLFxuICB4eGw6ICcobWF4LXdpZHRoOiAxNTk5Ljk4cHgpJ1xufTtcblxuQEluamVjdGFibGUoe1xuICBwcm92aWRlZEluOiAncm9vdCdcbn0pXG5leHBvcnQgY2xhc3MgTnpCcmVha3BvaW50U2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVzaXplU2VydmljZTogTnpSZXNpemVTZXJ2aWNlLCBwcml2YXRlIG1lZGlhTWF0Y2hlcjogTWVkaWFNYXRjaGVyKSB7XG4gICAgdGhpcy5yZXNpemVTZXJ2aWNlLnN1YnNjcmliZSgpLnN1YnNjcmliZSgoKSA9PiB7fSk7XG4gIH1cblxuICBzdWJzY3JpYmUoYnJlYWtwb2ludE1hcDogQnJlYWtwb2ludE1hcCk6IE9ic2VydmFibGU8TnpCcmVha3BvaW50RW51bT47XG4gIHN1YnNjcmliZShicmVha3BvaW50TWFwOiBCcmVha3BvaW50TWFwLCBmdWxsTWFwOiB0cnVlKTogT2JzZXJ2YWJsZTxCcmVha3BvaW50Qm9vbGVhbk1hcD47XG4gIHN1YnNjcmliZShicmVha3BvaW50TWFwOiBCcmVha3BvaW50TWFwLCBmdWxsTWFwPzogdHJ1ZSk6IE9ic2VydmFibGU8TnpCcmVha3BvaW50RW51bSB8IEJyZWFrcG9pbnRCb29sZWFuTWFwPiB7XG4gICAgaWYgKGZ1bGxNYXApIHtcbiAgICAgIGNvbnN0IGdldCA9ICgpID0+IHRoaXMubWF0Y2hNZWRpYShicmVha3BvaW50TWFwLCB0cnVlKTtcbiAgICAgIHJldHVybiB0aGlzLnJlc2l6ZVNlcnZpY2Uuc3Vic2NyaWJlKCkucGlwZShcbiAgICAgICAgbWFwKGdldCksXG4gICAgICAgIHN0YXJ0V2l0aChnZXQoKSksXG4gICAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKCh4OiBbTnpCcmVha3BvaW50RW51bSwgQnJlYWtwb2ludEJvb2xlYW5NYXBdLCB5OiBbTnpCcmVha3BvaW50RW51bSwgQnJlYWtwb2ludEJvb2xlYW5NYXBdKSA9PiB4WzBdID09PSB5WzBdKSxcbiAgICAgICAgbWFwKHggPT4geFsxXSlcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGdldCA9ICgpID0+IHRoaXMubWF0Y2hNZWRpYShicmVha3BvaW50TWFwKTtcbiAgICAgIHJldHVybiB0aGlzLnJlc2l6ZVNlcnZpY2Uuc3Vic2NyaWJlKCkucGlwZShtYXAoZ2V0KSwgc3RhcnRXaXRoKGdldCgpKSwgZGlzdGluY3RVbnRpbENoYW5nZWQoKSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBtYXRjaE1lZGlhKGJyZWFrcG9pbnRNYXA6IEJyZWFrcG9pbnRNYXApOiBOekJyZWFrcG9pbnRFbnVtO1xuICBwcml2YXRlIG1hdGNoTWVkaWEoYnJlYWtwb2ludE1hcDogQnJlYWtwb2ludE1hcCwgZnVsbE1hcDogdHJ1ZSk6IFtOekJyZWFrcG9pbnRFbnVtLCBCcmVha3BvaW50Qm9vbGVhbk1hcF07XG4gIHByaXZhdGUgbWF0Y2hNZWRpYShicmVha3BvaW50TWFwOiBCcmVha3BvaW50TWFwLCBmdWxsTWFwPzogdHJ1ZSk6IE56QnJlYWtwb2ludEVudW0gfCBbTnpCcmVha3BvaW50RW51bSwgQnJlYWtwb2ludEJvb2xlYW5NYXBdIHtcbiAgICBsZXQgYnAgPSBOekJyZWFrcG9pbnRFbnVtLm1kO1xuXG4gICAgY29uc3QgYnJlYWtwb2ludEJvb2xlYW5NYXA6IFBhcnRpYWw8QnJlYWtwb2ludEJvb2xlYW5NYXA+ID0ge307XG5cbiAgICBPYmplY3Qua2V5cyhicmVha3BvaW50TWFwKS5tYXAoYnJlYWtwb2ludCA9PiB7XG4gICAgICBjb25zdCBjYXN0QlAgPSBicmVha3BvaW50IGFzIE56QnJlYWtwb2ludEVudW07XG4gICAgICBjb25zdCBtYXRjaGVkID0gdGhpcy5tZWRpYU1hdGNoZXIubWF0Y2hNZWRpYShncmlkUmVzcG9uc2l2ZU1hcFtjYXN0QlBdKS5tYXRjaGVzO1xuXG4gICAgICBicmVha3BvaW50Qm9vbGVhbk1hcFticmVha3BvaW50IGFzIE56QnJlYWtwb2ludEVudW1dID0gbWF0Y2hlZDtcblxuICAgICAgaWYgKG1hdGNoZWQpIHtcbiAgICAgICAgYnAgPSBjYXN0QlA7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoZnVsbE1hcCkge1xuICAgICAgcmV0dXJuIFticCwgYnJlYWtwb2ludEJvb2xlYW5NYXAgYXMgQnJlYWtwb2ludEJvb2xlYW5NYXBdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYnA7XG4gICAgfVxuICB9XG59XG4iXX0=