{"version":3,"file":"ngx-sortablejs.js","sources":["ngx-sortablejs/lib/globals.ts","ngx-sortablejs/lib/sortablejs-binding.ts","ngx-sortablejs/lib/sortablejs-bindings.ts","ngx-sortablejs/lib/sortablejs.service.ts","ngx-sortablejs/lib/sortablejs.directive.ts","ngx-sortablejs/lib/sortablejs.module.ts"],"names":[],"mappings":"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","sourcesContent":["import { InjectionToken } from '@angular/core';\nimport { SortablejsOptions } from './sortablejs-options';\n\nexport const GLOBALS: InjectionToken<SortablejsOptions> = new InjectionToken('Global config for sortablejs');\n","import { SortablejsBindingTarget } from './sortablejs-binding-target';\n\nexport class SortablejsBinding {\n\n  constructor(private target: SortablejsBindingTarget) { }\n\n  insert(index: number, item: any) {\n    if (this.isFormArray) {\n      this.target.insert(index, item);\n    } else {\n      this.target.splice(index, 0, item);\n    }\n  }\n\n  get(index: number) {\n    return this.isFormArray ? this.target.at(index) : this.target[index];\n  }\n\n  remove(index: number) {\n    let item;\n\n    if (this.isFormArray) {\n      item = this.target.at(index);\n      this.target.removeAt(index);\n    } else {\n      item = this.target.splice(index, 1)[0];\n    }\n\n    return item;\n  }\n\n  // we need this to identify that the target is a FormArray\n  // we don't want to have a dependency on @angular/forms just for that\n  private get isFormArray() {\n    // just checking for random FormArray methods not available on a standard array\n    return !!this.target.at && !!this.target.insert && !!this.target.reset;\n  }\n\n}\n","import { SortablejsBinding } from './sortablejs-binding';\nimport { SortablejsBindingTarget } from './sortablejs-binding-target';\n\nexport class SortablejsBindings {\n\n  bindings: SortablejsBinding[];\n\n  constructor(bindingTargets: SortablejsBindingTarget[]) {\n    this.bindings = bindingTargets.map(target => new SortablejsBinding(target));\n  }\n\n  injectIntoEvery(index: number, items: any[]) {\n    this.bindings.forEach((b, i) => b.insert(index, items[i]));\n  }\n\n  getFromEvery(index: number) {\n    return this.bindings.map(b => b.get(index));\n  }\n\n  extractFromEvery(index: number) {\n    return this.bindings.map(b => b.remove(index));\n  }\n\n  get provided() {\n    return !!this.bindings.length;\n  }\n\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class SortablejsService {\n\n  // original library calls the events in unnatural order\n  // first the item is added, then removed from the previous array\n  // this is a temporary event to work this around\n  // as long as only one sortable takes place at a certain time\n  // this is enough to have a single `global` event\n  transfer: (items: any[]) => void;\n\n}\n","import { Directive, ElementRef, EventEmitter, Inject, Input, NgZone, OnChanges, OnDestroy, OnInit, Optional, Output, Renderer2, SimpleChange } from '@angular/core';\nimport Sortable from 'sortablejs';\nimport { GLOBALS } from './globals';\nimport { SortablejsBindingTarget } from './sortablejs-binding-target';\nimport { SortablejsBindings } from './sortablejs-bindings';\nimport { SortablejsOptions } from './sortablejs-options';\nimport { SortablejsService } from './sortablejs.service';\n\nconst getIndexesFromEvent = (event: SortableEvent) => {\n  if (event.hasOwnProperty('newDraggableIndex') && event.hasOwnProperty('oldDraggableIndex')) {\n      return {\n        new: event.newDraggableIndex,\n        old: event.oldDraggableIndex,\n      };\n  } else {\n    return {\n      new: event.newIndex,\n      old: event.oldIndex,\n    };\n  }\n};\n\n@Directive({\n  selector: '[sortablejs]',\n})\nexport class SortablejsDirective implements OnInit, OnChanges, OnDestroy {\n\n  @Input()\n  sortablejs: SortablejsBindingTarget; // array or a FormArray\n\n  @Input()\n  sortablejsContainer: string;\n\n  @Input()\n  sortablejsOptions: SortablejsOptions;\n\n  @Input()\n  sortablejsCloneFunction: <T>(item: T) => T;\n\n  private sortableInstance: any;\n\n  @Input() runInsideAngular = false; // to be deprecated\n\n  @Output() sortablejsInit = new EventEmitter();\n\n  constructor(\n    @Optional() @Inject(GLOBALS) private globalConfig: SortablejsOptions,\n    private service: SortablejsService,\n    private element: ElementRef,\n    private zone: NgZone,\n    private renderer: Renderer2,\n  ) { }\n\n  ngOnInit() {\n    if (Sortable && Sortable.create) { // Sortable does not exist in angular universal (SSR)\n      if (this.runInsideAngular) {\n        this.create();\n      } else {\n        this.zone.runOutsideAngular(() => this.create());\n      }\n    }\n  }\n\n  ngOnChanges(changes: { [prop in keyof SortablejsDirective]: SimpleChange }) {\n    const optionsChange: SimpleChange = changes.sortablejsOptions;\n\n    if (optionsChange && !optionsChange.isFirstChange()) {\n      const previousOptions: SortablejsOptions = optionsChange.previousValue;\n      const currentOptions: SortablejsOptions = optionsChange.currentValue;\n\n      Object.keys(currentOptions).forEach(optionName => {\n        if (currentOptions[optionName] !== previousOptions[optionName]) {\n          // use low-level option setter\n          this.sortableInstance.option(optionName, this.options[optionName]);\n        }\n      });\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.sortableInstance) {\n      this.sortableInstance.destroy();\n    }\n  }\n\n  private create() {\n    const container = this.sortablejsContainer ? this.element.nativeElement.querySelector(this.sortablejsContainer) : this.element.nativeElement;\n\n    setTimeout(() => {\n      this.sortableInstance = Sortable.create(container, this.options);\n      this.sortablejsInit.emit(this.sortableInstance);\n    }, 0);\n  }\n\n  private getBindings(): SortablejsBindings {\n    if (!this.sortablejs) {\n      return new SortablejsBindings([]);\n    } else if (this.sortablejs instanceof SortablejsBindings) {\n      return this.sortablejs;\n    } else {\n      return new SortablejsBindings([this.sortablejs]);\n    }\n  }\n\n  private get options() {\n    return { ...this.optionsWithoutEvents, ...this.overridenOptions };\n  }\n\n  private get optionsWithoutEvents() {\n    return { ...(this.globalConfig || {}), ...(this.sortablejsOptions || {}) };\n  }\n\n  private proxyEvent(eventName: string, ...params: any[]) {\n    this.zone.run(() => { // re-entering zone, see https://github.com/SortableJS/angular-sortablejs/issues/110#issuecomment-408874600\n      if (this.optionsWithoutEvents && this.optionsWithoutEvents[eventName]) {\n        this.optionsWithoutEvents[eventName](...params);\n      }\n    });\n  }\n\n  private get isCloning() {\n    return this.sortableInstance.options.group.checkPull(this.sortableInstance, this.sortableInstance) === 'clone';\n  }\n\n  private clone<T>(item: T): T {\n    // by default pass the item through, no cloning performed\n    return (this.sortablejsCloneFunction || (subitem => subitem))(item);\n  }\n\n  private get overridenOptions(): SortablejsOptions {\n    // always intercept standard events but act only in case items are set (bindingEnabled)\n    // allows to forget about tracking this.items changes\n    return {\n      onAdd: (event: SortableEvent) => {\n        this.service.transfer = (items: any[]) => {\n          this.getBindings().injectIntoEvery(event.newIndex, items);\n          this.proxyEvent('onAdd', event);\n        };\n\n        this.proxyEvent('onAddOriginal', event);\n      },\n      onRemove: (event: SortableEvent) => {\n        const bindings = this.getBindings();\n\n        if (bindings.provided) {\n          if (this.isCloning) {\n            this.service.transfer(bindings.getFromEvery(event.oldIndex).map(item => this.clone(item)));\n\n            // great thanks to https://github.com/tauu\n            // event.item is the original item from the source list which is moved to the target list\n            // event.clone is a clone of the original item and will be added to source list\n            // If bindings are provided, adding the item dom element to the target list causes artifacts\n            // as it interferes with the rendering performed by the angular template.\n            // Therefore we remove it immediately and also move the original item back to the source list.\n            // (event handler may be attached to the original item and not its clone, therefore keeping\n            // the original dom node, circumvents side effects )\n            this.renderer.removeChild(event.item.parentNode, event.item);\n            this.renderer.insertBefore(event.clone.parentNode, event.item, event.clone);\n            this.renderer.removeChild(event.clone.parentNode, event.clone);\n          } else {\n            this.service.transfer(bindings.extractFromEvery(event.oldIndex));\n          }\n\n          this.service.transfer = null;\n        }\n\n        this.proxyEvent('onRemove', event);\n      },\n      onUpdate: (event: SortableEvent) => {\n        const bindings = this.getBindings();\n        const indexes = getIndexesFromEvent(event);\n\n        bindings.injectIntoEvery(indexes.new, bindings.extractFromEvery(indexes.old));\n        this.proxyEvent('onUpdate', event);\n      },\n    };\n  }\n\n}\n\ninterface SortableEvent {\n  oldIndex: number;\n  newIndex: number;\n  oldDraggableIndex?: number;\n  newDraggableIndex?: number;\n  item: HTMLElement;\n  clone: HTMLElement;\n}\n","import { ModuleWithProviders, NgModule } from '@angular/core';\nimport { GLOBALS } from './globals';\nimport { SortablejsOptions } from './sortablejs-options';\nimport { SortablejsDirective } from './sortablejs.directive';\n\n@NgModule({\n  declarations: [SortablejsDirective],\n  exports: [SortablejsDirective],\n})\nexport class SortablejsModule {\n\n  public static forRoot(globalOptions: SortablejsOptions): ModuleWithProviders {\n    return {\n      ngModule: SortablejsModule,\n      providers: [\n        { provide: GLOBALS, useValue: globalOptions },\n      ],\n    };\n  }\n\n}\n"]}